<div class="reports_main_page_holder">
    <div class="reports_header_tabs_holder clearfix">
        <report-tabs></report-tabs>
    </div>

    <div class="inventory_reports_container" >
        <div class="clearfix inventory_header">
            <div class="pull-left dropdown dropdown_type1"  id="performance_camp_list_dd" >
                <campaign-drop-down selected-obj=selectedCampaign> </campaign-drop-down>
            </div>
            <div class="pull-right download_report">
                <download-report></download-report>
            </div>
        </div>

        <div id="performance_strategies_dd" ng-show="isStrategyDropDownShow">
            <strategy-drop-down selected-obj=selectedStrategy ></strategy-drop-down >
        </div>

        <div class="common-load-icon_viewability"  ng-show="strategyLoading"></div>

        <div class="performance_container" ng-hide="strategyLoading">
            <div class="no_data_found" ng-if="!strategyFound" ng-bind-html="getMessageForDataNotAvailable('strategy')"></div>
            <div class="reports_tabs_content_container" ng-show="strategyFound" >
                <!-- -------START :  Performance Tabs ------------------------ -->
                <div class="clearfix">
                    <div class="clearfix reports_tabs_holder">
                        <div class="each_tab cost_tab active " id="byscreens">
                            <div class="each_tab_text">
                                Screens
                            </div>
                        </div>
                        <div class="each_tab " id="bydaysofweek">
                            <div class="each_tab_text">
                                Days of Week
                            </div>
                        </div>
                        <div class="each_tab cost_tab " id="byformats">
                            <div class="each_tab_text">
                                Formats
                            </div>
                        </div>
                    </div>
                </div>
                <!-- -------END :  Performance Tabs ------------------------ -->

                <!-- -------START :  Screen Block ----------------------------- -->
                

                
                <div ng-class="strategyPerfDataByScreen.hasVTCMetrics ? 'reports_block quar_data' : 'reports_block' " id="reports_byscreens_block" style="display:block;">
                    <div class="no_data_found" ng-if="dataNotFoundForScreen" ng-bind-html="getMessageForDataNotAvailable('screens')"></div>
                    <div class="reports_details_outer_container" ng-if="!dataNotFoundForScreen">
                        <div class="clearfix reports_performance_header">
                            <screen-header></screen-header>
                        </div>
                        <div class="strategy_total_container ">
                            <div class="strategy_total_container_header clearfix">
                                <div class="each_col first_col">
                                    {{strategyHeading}}:
                                </div>
                                <div class="row_list_holder">
                                    <div class="common-load-icon" ng-show="screenBusy"></div>
                                    <div class="clearfix each_row_list " ng-repeat="screenData in strategyPerfDataByScreen.perf_metrics | orderBy:sortType:sortReverse track by $index" ng-include="'screenTpl'"></div>
                                </div>
                            </div>
                            <div class="all_strategies_holder">
                                <div class="each_strategy_holder clearfix" ng-repeat="tactic in strategyPerfDataByScreen.tactics | orderBy:sortType:sortReverse track by $index" ng-if="tactic.perf_metrics">
                                    <div class="linkage_bar"></div>
                                    <div class="each_strategy clearfix">
                                        <div class="each_col first_col">
                                            {{tactic.name}}
                                        </div>
                                        <div class="row_list_holder">
                                            <div class="clearfix each_row_list" ng-repeat="screenData in tactic.perf_metrics | orderBy:sortType:sortReverse track by $index" ng-include="'screenTpl'"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- -------END :  Screen Block ----------------------------- -->

                <!-- -------START :  Days of week Block ----------------------------- -->
                <div ng-class="strategyPerfDataByDOW.hasVTCMetrics ? 'reports_block quar_data' : 'reports_block' " id="reports_bydaysofweek_block" style="display:none;" >
                    <div class="no_data_found" ng-if="dataNotFoundForDOW" ng-bind-html="getMessageForDataNotAvailable('daysofweek')"></div>
                    <div class="reports_details_outer_container" ng-show="!dataNotFoundForDOW" >
                        <div class="clearfix reports_performance_header">
                            <daysofweek-header></daysofweek-header>
                        </div>
                        <div class="strategy_total_container ">
                            <div class="strategy_total_container_header clearfix">
                                <div class="each_col first_col">
                                    {{strategyHeading}}:
                                </div>
                                <div class="row_list_holder">
                                    <div class="common-load-icon" ng-show="dowBusy"></div>
                                    <div class="clearfix each_row_list" ng-repeat="daysofweekData in strategyPerfDataByDOW.perf_metrics | orderBy:sortType:sortReverse track by $index" ng-include="'daysofweekTpl'"></div>
                                </div>
                            </div>
                            <div class="all_strategies_holder">
                                <div class="each_strategy_holder clearfix" ng-repeat="tactic in strategyPerfDataByDOW.tactics | orderBy:sortType:sortReverse track by $index" ng-if="tactic.perf_metrics">
                                    <div class="linkage_bar"></div>
                                    <div class="each_strategy clearfix">
                                        <div class="each_col first_col">
                                            {{tactic.name}}
                                        </div>
                                        <div class="row_list_holder">
                                            <div class="clearfix each_row_list" ng-repeat="daysofweekData in tactic.perf_metrics | orderBy:sortType:sortReverse track by $index" ng-include="'daysofweekTpl'"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- -------END :  Days of week Block ----------------------------- -->

                <!-- -------START :  Format Block ----------------------------- -->
                <div ng-class="strategyPerfDataByFormat.hasVTCMetrics ? 'reports_block quar_data' : 'reports_block' " id="reports_byformats_block" style="display:none;">
                    <div class="no_data_found" ng-if="dataNotFoundForFormat" ng-bind-html="getMessageForDataNotAvailable('formats')"></div>
                    <div class="reports_details_outer_container"  ng-show="!dataNotFoundForFormat">
                        <div class="clearfix reports_performance_header">
                            <format-header></format-header>
                        </div>
                        <div class="strategy_total_container ">
                            <div class="strategy_total_container_header clearfix">
                                <div class="each_col first_col">
                                    {{strategyHeading}}:
                                </div>
                                <div class="row_list_holder">
                                    <div class="common-load-icon" ng-show="formatBusy"></div>
                                    <div class="clearfix each_row_list" ng-repeat="formatData in strategyPerfDataByFormat.perf_metrics | orderBy:sortType:sortReverse track by $index" ng-include="'formatTpl'"></div>
                                </div>
                            </div>
                            <div class="all_strategies_holder">
                                <div class="each_strategy_holder clearfix" ng-repeat="tactic in strategyPerfDataByFormat.tactics | orderBy:sortType:sortReverse track by $index" ng-if="tactic.perf_metrics">
                                    <div class="linkage_bar"></div>
                                    <div class="each_strategy clearfix">
                                        <div class="each_col first_col">
                                            {{tactic.name}}
                                        </div>
                                        <div class="row_list_holder">
                                            <div class="clearfix each_row_list" ng-repeat="formatData in tactic.perf_metrics | orderBy:sortType:sortReverse track by $index" ng-include="'formatTpl'"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <!-- -------END :  Format Block ----------------------------- -->
            </div>
        </div>
        <kpi-drop-down selected-obj=selected_filters style="visibility: hidden" > </kpi-drop-down>
    </div>
</div>


<script type="text/ng-template" id="screenTpl">
    <div class="each_col sec_col" >
        {{screenData.dimension}}
    </div>
    <div class="each_col third_col">
        {{screenData.impressions | number:0}}
    </div>
    <div class="vid_col" ng-show="strategyPerfDataByScreen.hasVTCMetrics == true">
        <div class="each_col third_col">
            {{screenData.video_metrics.ad_starts >0 ? (screenData.video_metrics.ad_starts | nrFormat) : '-'}}
        </div>

        <div class="vid_data_hdr">
            <div>
                <div class="vid_quartile_data">{{screenData.video_metrics.vtc_25 >0 ? (screenData.video_metrics.vtc_25 | nrFormat) : '-'}}</div>
                <div class="vid_quartile_data">{{screenData.video_metrics.vtc_50 >0 ? (screenData.video_metrics.vtc_50 | nrFormat) : '-'}}</div>
                <div class="vid_quartile_data">{{screenData.video_metrics.vtc_75 >0 ? (screenData.video_metrics.vtc_75 | nrFormat) : '-'}}</div>
                <div class="vid_quartile_data">{{screenData.video_metrics.vtc_100 >0 ? (screenData.video_metrics.vtc_100 | nrFormat) : '-'}}</div>
            </div>
        </div>
        <div class="each_col third_col">
            <span>{{screenData.video_metrics.vtc_rate | number:2}}%</span>
        </div>
    </div>
    <div class="each_col forth_col">
        {{screenData.ctr*100 | number:2}}%
    </div>
    <div class="each_col fifth_col">
        {{screenData.action_rate*100 | number:2}}%
    </div>
    <span  ng-if="!strategyPerfDataByScreen.hasVTCMetrics">
    <div class="each_col sixth_col">
        ${{screenData.cpa | number:2}}
    </div>

    <div class="each_col seventh_col">
        ${{screenData.cpc | number:2}}
    </div>

    <div class="each_col eight_col">
        ${{screenData.cpm | number:2}}
    </div>
        </span>
    <div ng-if="strategyPerfDataByScreen.hasVTCMetrics" class="each_col eight_col" ng-class="{vid_none:strategyPerfDataByScreen.hasVTCMetrics == false}">
        {{screenData[selected_filters.kpi_type.toLowerCase()] | appendDollor:
        selected_filters2.kpi_type}}
    </div>
</script>

<script type="text/ng-template" id="daysofweekTpl">
    <div class="each_col sec_col">
        {{daysofweekData.dimension}}
    </div>
    <div class="each_col third_col">
        {{daysofweekData.impressions | number:0}}
    </div>
        <div class="vid_col" ng-show="strategyPerfDataByDOW.hasVTCMetrics == true">
        <div class="each_col third_col">
            {{daysofweekData.video_metrics.ad_starts >0 ? (daysofweekData.video_metrics.ad_starts | nrFormat) : '-'}}
        </div>

        <div class="vid_data_hdr">
            <div>
                <div class="vid_quartile_data">{{daysofweekData.video_metrics.vtc_25 >0 ? (daysofweekData.video_metrics.vtc_25 | nrFormat) : '-'}}</div>
                <div class="vid_quartile_data">{{daysofweekData.video_metrics.vtc_50 >0 ? (daysofweekData.video_metrics.vtc_50 | nrFormat) : '-'}}</div>
                <div class="vid_quartile_data">{{daysofweekData.video_metrics.vtc_75 >0 ? (daysofweekData.video_metrics.vtc_75 | nrFormat) : '-'}}</div>
                <div class="vid_quartile_data">{{daysofweekData.video_metrics.vtc_100 >0 ? (daysofweekData.video_metrics.vtc_100 | nrFormat) : '-'}}</div>
            </div>
        </div>
        <div class="each_col third_col">
            <span>{{daysofweekData.video_metrics.vtc_rate | number:2}}%</span>
        </div>
    </div>
    <div class="each_col forth_col">
        {{daysofweekData.ctr*100 | number:2}}%
    </div>
    <div class="each_col fifth_col">
        {{daysofweekData.action_rate*100 | number:2}}%
    </div>
    <span  ng-if="!strategyPerfDataByDOW.hasVTCMetrics">
    <div class="each_col sixth_col">
        ${{daysofweekData.cpa | number:2}}
    </div>
    <div class="each_col seventh_col">
        ${{daysofweekData.cpc | number:2}}
    </div>
    <div class="each_col eight_col">
        ${{daysofweekData.cpm | number:2}}
    </div>
    </span>
    <div ng-if="strategyPerfDataByDOW.hasVTCMetrics" class="each_col eight_col" ng-class="{vid_none:strategyPerfDataByScreen.hasVTCMetrics == false}">
        {{daysofweekData[selected_filters.kpi_type.toLowerCase()] | appendDollor:
        selected_filters2.kpi_type}}
    </div>
</script>

<script type="text/ng-template" id="formatTpl">
    <div class="each_col sec_col">
        {{formatData.dimension}}
    </div>
    <div class="each_col third_col">
        {{formatData.impressions | number:0}}
    </div>
    <div class="vid_col" ng-show="strategyPerfDataByFormat.hasVTCMetrics == true">
        <div class="each_col third_col">
            {{formatData.video_metrics.ad_starts > 0 ? (formatData.video_metrics.ad_starts | nrFormat) : '-'}}
        </div>

        <div class="vid_data_hdr">
            <div>
                <div class="vid_quartile_data">{{formatData.video_metrics.vtc_25 > 0 ? (formatData.video_metrics.vtc_25 | nrFormat) : '-'}}</div>
                <div class="vid_quartile_data">{{formatData.video_metrics.vtc_50 > 0 ? (formatData.video_metrics.vtc_50 | nrFormat) : '-'}}</div>
                <div class="vid_quartile_data">{{formatData.video_metrics.vtc_75 > 0 ? (formatData.video_metrics.vtc_75 | nrFormat) : '-'}}</div>
                <div class="vid_quartile_data">{{formatData.video_metrics.vtc_100 > 0 ? (formatData.video_metrics.vtc_100 | nrFormat) : '-'}}</div>
            </div>
        </div>
        <div class="each_col third_col">
            <span>{{formatData.video_metrics.vtc_rate | number:2}}%</span>
        </div>
    </div>
    <div class="each_col forth_col">
        {{formatData.ctr*100 | number:2}}%
    </div>
    <div class="each_col fifth_col">
        {{formatData.action_rate*100 | number:2}}%
    </div>
    <span  ng-if="!strategyPerfDataByFormat.hasVTCMetrics">
    <div class="each_col sixth_col">
        ${{formatData.cpa | number:2}}
    </div>
    <div class="each_col seventh_col">
        ${{formatData.cpc | number:2}}
    </div>
    <div class="each_col eight_col">
        ${{formatData.cpm | number:2}}
    </div>
        </span>
    <div ng-if="strategyPerfDataByFormat.hasVTCMetrics" class="each_col eight_col" ng-class="{vid_none:strategyPerfDataByFormat.hasVTCMetrics == false}">
        {{formatData[selected_filters.kpi_type.toLowerCase()] | appendDollor:
        selected_filters2.kpi_type}}
    </div>
</script>

