<div class="reports_main_page_holder">
    <div class="reports_header_tabs_holder clearfix">
        <div class="pull-left breadcrumb_campaign"><a href="#/campaigns/{{selectedCampaign.id}}">Campaign Details</a></div>
        <div class="pull-left">
            <span ng-repeat="tab in filters.tabs track by $index" ng-class="{'active_tab': tab.href == filters.activeTab }"><a
                    ng-href="#/{{tab.href}}" id="performance_tab_{{tab.href}}" > {{tab.title}}</a></span>
        </div>
    </div>

    <div class="inventory_reports_container" >
        <div class="clearfix inventory_header">
            <div class="pull-left dropdown dropdown_type1"  id="performance_camp_list_dd" >
                <!--<large-list-search selected-obj=selectedCampaign></large-list-search>-->
                <campaign-drop-down selected-obj=selectedCampaign> </campaign-drop-down>
            </div>

            <div class="pull-right download_report">

                <div class="dropdown">
                    <span class="dropdown_ul_text " data-toggle="dropdown">
                        <a class="download_anchor" id="performance_download_btn" href="">Download Report
                        </a>
                    </span>

                    <ul class="dropdown_ul_perf dropdown-menu" id="performance_download">
                        <li value="screens"><a ng-if="download_urls.screens" class="download_anchor"
                                               ng-click="downloadPerformanceReport(download_urls.screens, 'by_screens_and_formats')">Performance
                            by Screens & Formats</a></li>
                        <li value="daysOfWeek"><a ng-if="download_urls.daysOfWeek" class="download_anchor"
                                                  ng-click="downloadPerformanceReport(download_urls.daysOfWeek, 'by_days_of_week')">Performance
                            by Days Of Week</a></li>
                        <li value="platforms"><a ng-if="download_urls.platforms" class="download_anchor"
                                                  ng-click="downloadPerformanceReport(download_urls.platforms, 'by_platforms')">Performance
                            by Platforms</a></li>
                    </ul>
                </div>
                <span class="download-report-load-icon" ng-if="perfReportDownloadBusy">Downloading </span>
            </div>
        </div>

        <div id="performance_strategies_dd" ng-show="isStrategyDropDownShow">
            <strategy-drop-down selected-obj=selectedStrategy ></strategy-drop-down >
        </div>
        <div class="common-load-icon_viewability"  ng-show="strategyLoading"></div>

        <div class="performance_container" ng-hide="strategyLoading">
            <div class="no_data_found" ng-if="!strategyFound" ng-bind-html="getMessageForDataNotAvailable('strategy')">
            </div>

            <div class="reports_tabs_content_container" ng-show="strategyFound" >
                <div class="clearfix">
                    <div class="clearfix reports_tabs_holder">
                         <div class="each_tab cost_tab active " id="byscreens">
                            <div class="each_tab_text">
                                Screens
                            </div>
                        </div>
                        <div class="each_tab " id="bydaysofweek">
                            <div class="each_tab_text">
                                Days of Week
                            </div>
                        </div>
                        <div class="each_tab cost_tab " id="byformats">
                            <div class="each_tab_text">
                                Formats
                            </div>
                        </div>
                        <div class="each_tab cost_tab " id="byplatforms">
                           <div class="each_tab_text">
                               Platform
                           </div>
                       </div>

                    </div>
                </div>

                <div class="reports_block" id="reports_bydaysofweek_block" style="display:none;" >
                    <div class="no_data_found" ng-if="dataNotFoundForDOW" ng-bind-html="getMessageForDataNotAvailable('daysofweek')">
                    </div>
                    <div class="reports_details_outer_container" ng-show="!dataNotFoundForDOW" >
                        <div class="clearfix reports_performance_header">
                           <!--  <div class="each_col first_col">
                                <span>Name</span>
                            </div> -->
                            <div class="each_col sec_col">
                                <span>Day of Week </span>
                            </div>
                            <div class="each_col third_col">
                                <span>Imps.</span>
                            </div>
                            <div class="each_col forth_col">
                                <span class="icon_text_holder"><span class="default-kpi-header-icon" tooltip="Primary KPI" ng-if="selected_filters.campaign_default_kpi_type.toLowerCase() === 'ctr'"></span>CTR</span>
                            </div>
                            <div class="each_col fifth_col">
                                <span class="icon_text_holder"><span class="default-kpi-header-icon" tooltip="Primary KPI" ng-if="selected_filters.campaign_default_kpi_type.toLowerCase() === 'action_rate'"></span>Action Rate</span>
                            </div>
                            <div class="each_col sixth_col">
                                <span class="icon_text_holder"><span class="default-kpi-header-icon" tooltip="Primary KPI" ng-if="selected_filters.campaign_default_kpi_type.toLowerCase() === 'cpa'"></span>CPA</span>
                            </div>
                            <div class="each_col seventh_col">
                                <span class="icon_text_holder"><span class="default-kpi-header-icon" tooltip="Primary KPI" ng-if="selected_filters.campaign_default_kpi_type.toLowerCase() === 'cpc'"></span>CPC</span>
                            </div>
                            <div class="each_col seventh_col">
                                <span class="icon_text_holder"><span class="default-kpi-header-icon" tooltip="Primary KPI" ng-if="selected_filters.campaign_default_kpi_type.toLowerCase() === 'cpm'"></span>CPM</span>
                            </div>
                        </div>


                        <div class="strategy_total_container ">
                            <div class="strategy_total_container_header clearfix">

                                <div class="each_col first_col">
                                    {{strategyHeading}}:
                                </div>
                                <div class="row_list_holder">
                                    <div class="common-load-icon" ng-show="dowBusy"></div>
                                    <!--{{dowBusy}}-->
                                    <div class="clearfix each_row_list" ng-repeat="strategy in strategyPerfDataByDOW track by $index">

                                        <div class="each_col sec_col">
                                            {{strategy.dimension}}
                                        </div>
                                        <div class="each_col third_col">
                                            {{strategy.impressions | number:0}}
                                        </div>
                                        <div class="each_col forth_col">
                                            {{strategy.ctr*100 | number:2}}%
                                        </div>
                                        <div class="each_col fifth_col">
                                            {{strategy.action_rate*100 | number:2}}%
                                        </div>
                                        <div class="each_col sixth_col">
                                            ${{strategy.cpa | number:2}}
                                        </div>
                                        <div class="each_col seventh_col">
                                            ${{strategy.cpc | number:2}}
                                        </div>
                                        <div class="each_col eight_col">
                                            ${{strategy.cpm | number:2}}
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <div class="common-load-icon" ng-show="tacticDowBusy"></div>

                            <div class="all_strategies_holder">
                                <div class="each_strategy_holder clearfix" ng-repeat="tactic in tacticsPerfDataListByDOW track by $index |orderBy: sortByColumn">
                                    <div class="linkage_bar">
                                    </div>
                                    <div class="each_strategy clearfix">
                                        <div class="each_col first_col">
                                            {{tactic[0].description}}
                                        </div>
                                        <div class="row_list_holder">
                                            <div class="clearfix each_row_list" ng-repeat="data in tactic track by $index">
                                                <div class="each_col sec_col">
                                                    {{data.dimension}}
                                                </div>
                                                <div class="each_col third_col">
                                                    {{data.impressions | number:0}}
                                                </div>
                                                <div class="each_col forth_col">
                                                    {{data.ctr*100 | number:2}}%
                                                </div>
                                                <div class="each_col fifth_col">
                                                    {{data.action_rate*100 | number:2}}%
                                                </div>
                                                <div class="each_col sixth_col">
                                                    ${{data.cpa | number:2}}
                                                </div>
                                                <div class="each_col seventh_col">
                                                    ${{data.cpc | number:2}}
                                                </div>
                                                <div class="each_col eight_col">
                                                    ${{data.cpm | number:2}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>

                        </div>
                    </div>
                </div>

                <div class="reports_block" id="reports_byscreens_block" style="display:block;">
                    <div class="no_data_found" ng-if="dataNotFoundForScreen" ng-bind-html="getMessageForDataNotAvailable('screens')">
                    </div>
                    <div class="reports_details_outer_container" ng-if="!dataNotFoundForScreen">
                        <div class="clearfix reports_performance_header">
                            <!-- <div class="each_col first_col">
                                <span>Name</span>
                            </div> -->
                            <div class="each_col sec_col">
                                <span>Screen</span>
                            </div>
                            <div class="each_col third_col">
                                <span>Imps.</span>
                            </div>
                            <div class="each_col forth_col">
                                <span class="icon_text_holder"><span class="default-kpi-header-icon" tooltip="Primary KPI" ng-if="selected_filters.campaign_default_kpi_type.toLowerCase() === 'ctr'"></span>CTR</span>
                            </div>
                            <div class="each_col fifth_col">
                                <span class="icon_text_holder"><span class="default-kpi-header-icon" tooltip="Primary KPI" ng-if="selected_filters.campaign_default_kpi_type.toLowerCase() === 'action_rate'"></span>Action Rate</span>
                            </div>
                            <div class="each_col sixth_col">
                                <span class="icon_text_holder"><span class="default-kpi-header-icon" tooltip="Primary KPI" ng-if="selected_filters.campaign_default_kpi_type.toLowerCase() === 'cpa'"></span>CPA</span>
                            </div>
                            <div class="each_col seventh_col">
                                <span class="icon_text_holder"><span class="default-kpi-header-icon" tooltip="Primary KPI" ng-if="selected_filters.campaign_default_kpi_type.toLowerCase() === 'cpc'"></span>CPC</span>
                            </div>
                            <div class="each_col seventh_col">
                                <span class="icon_text_holder"><span class="default-kpi-header-icon" tooltip="Primary KPI" ng-if="selected_filters.campaign_default_kpi_type.toLowerCase() === 'cpm'"></span>CPM</span>
                            </div>
                        </div>


                        <div class="strategy_total_container ">

                            <div class="strategy_total_container_header clearfix">

                                <div class="each_col first_col">
                                    {{strategyHeading}}:
                                </div>

                                <div class="row_list_holder">
                                    <div class="common-load-icon" ng-show="screenBusy"></div>
                                    <div class="clearfix each_row_list " ng-repeat="strategy in strategyPerfDataByScreen track by $index">

                                        <div class="each_col sec_col">
                                            {{strategy.dimension}}
                                        </div>
                                        <div class="each_col third_col">
                                            {{strategy.impressions | number:0}}
                                        </div>
                                        <div class="each_col forth_col">
                                            {{strategy.ctr*100 | number:2}}%
                                        </div>
                                        <div class="each_col fifth_col">
                                            {{strategy.action_rate*100 | number:2}}%
                                        </div>
                                        <div class="each_col sixth_col">
                                            ${{strategy.cpa | number:2}}
                                        </div>
                                        <div class="each_col seventh_col">
                                            ${{strategy.cpc | number:2}}
                                        </div>
                                        <div class="each_col eight_col">
                                            ${{strategy.cpm | number:2}}
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="common-load-icon" ng-show="tacticScreenBusy"></div>

                            <div class="all_strategies_holder">
                                <!--<div class="common-load-icon"></div>-->

                                <div class="each_strategy_holder clearfix" ng-repeat="tactic in tacticsPerfDataListByScreen track by $index |orderBy: sortByColumn">
                                    <div class="linkage_bar">
                                    </div>
                                    <div class="each_strategy clearfix">


                                        <div class="each_col first_col">
                                            {{tactic[0].description}}
                                        </div>
                                        <div class="row_list_holder">
                                            <div class="clearfix each_row_list" ng-repeat="data in tactic track by $index">
                                                <div class="each_col sec_col">
                                                    {{data.dimension}}
                                                </div>
                                                <div class="each_col third_col">
                                                    {{data.impressions | number:0}}
                                                </div>
                                                <div class="each_col forth_col">
                                                    {{data.ctr*100 | number:2}}%
                                                </div>
                                                <div class="each_col fifth_col">
                                                    {{data.action_rate*100 | number:2}}%
                                                </div>
                                                <div class="each_col sixth_col">
                                                    ${{data.cpa | number:2}}
                                                </div>
                                                <div class="each_col seventh_col">
                                                    ${{data.cpc | number:2}}
                                                </div>
                                                <div class="each_col eight_col">
                                                    ${{data.cpm | number:2}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>

                        </div>
                    </div>
                </div>
                <div class="reports_block" id="reports_byformats_block" style="display:none;">

                    <div class="no_data_found" ng-if="dataNotFoundForFormat" ng-bind-html="getMessageForDataNotAvailable('formats')">
                    </div>

                    <div class="reports_details_outer_container"  ng-show="!dataNotFoundForFormat">
                        <div class="clearfix reports_performance_header">
                            <!-- <div class="each_col first_col">
                                <span>Name</span>
                            </div> -->
                            <div class="each_col sec_col">
                                <span>Format</span>
                            </div>
                            <div class="each_col third_col">
                                <span>Imps.</span>
                            </div>
                            <div class="each_col forth_col">
                                <span class="icon_text_holder"><span class="default-kpi-header-icon" tooltip="Primary KPI" ng-if="selected_filters.campaign_default_kpi_type.toLowerCase() === 'ctr'"></span>CTR</span>
                            </div>
                            <div class="each_col fifth_col">
                                <span class="icon_text_holder"><span class="default-kpi-header-icon" tooltip="Primary KPI" ng-if="selected_filters.campaign_default_kpi_type.toLowerCase() === 'action_rate'"></span>Action Rate</span>
                            </div>
                            <div class="each_col sixth_col">
                                <span class="icon_text_holder"><span class="default-kpi-header-icon" tooltip="Primary KPI" ng-if="selected_filters.campaign_default_kpi_type.toLowerCase() === 'cpa'"></span>CPA</span>
                            </div>
                            <div class="each_col seventh_col">
                                <span class="icon_text_holder"><span class="default-kpi-header-icon" tooltip="Primary KPI" ng-if="selected_filters.campaign_default_kpi_type.toLowerCase() === 'cpc'"></span>CPC</span>
                            </div>
                            <div class="each_col seventh_col">
                                <span class="icon_text_holder"><span class="default-kpi-header-icon" tooltip="Primary KPI" ng-if="selected_filters.campaign_default_kpi_type.toLowerCase() === 'cpm'"></span>CPM</span>
                            </div>
                        </div>


                        <div class="strategy_total_container ">

                            <div class="strategy_total_container_header clearfix">

                                <div class="each_col first_col">
                                    {{strategyHeading}}:
                                </div>
                                <div class="row_list_holder">
                                    <div class="common-load-icon" ng-show="formatBusy"></div>
                                    <!--{{formatBusy}}-->
                                    <div class="clearfix each_row_list" ng-repeat="strategy in strategyPerfDataByFormat track by $index">
                                        <div class="each_col sec_col">
                                            {{strategy.dimension}}
                                        </div>
                                        <div class="each_col third_col">
                                            {{strategy.impressions | number:0}}
                                        </div>
                                        <div class="each_col forth_col">
                                            {{strategy.ctr*100 | number:2}}%
                                        </div>
                                        <div class="each_col fifth_col">
                                            {{strategy.action_rate*100 | number:2}}%
                                        </div>
                                        <div class="each_col sixth_col">
                                            ${{strategy.cpa | number:2}}
                                        </div>
                                        <div class="each_col seventh_col">
                                            ${{strategy.cpc | number:2}}
                                        </div>
                                        <div class="each_col eight_col">
                                            ${{strategy.cpm | number:2}}
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="all_strategies_holder">

                                <div class="common-load-icon" ng-show="tacticFormatBusy"></div>
                             <!--{{tacticFormatBusy}}-->
                                <div class="each_strategy_holder clearfix" ng-repeat="tactic in tacticsPerfDataListByFormat track by $index |orderBy: sortByColumn">
                                    <div class="linkage_bar">
                                    </div>
                                    <div class="each_strategy clearfix">
                                        <div class="each_col first_col">
                                            {{tactic[0].description}}
                                        </div>
                                        <div class="row_list_holder">
                                            <div class="clearfix each_row_list" ng-repeat="data in tactic track by $index">
                                                <div class="each_col sec_col">
                                                    {{data.dimension}}
                                                </div>
                                                <div class="each_col third_col">
                                                    {{data.impressions | number:0}}
                                                </div>
                                                <div class="each_col forth_col">
                                                    {{data.ctr*100 | number:2}}%
                                                </div>
                                                <div class="each_col fifth_col">
                                                    {{data.action_rate*100 | number:2}}%
                                                </div>
                                                <div class="each_col sixth_col">
                                                    ${{data.cpa | number:2}}
                                                </div>
                                                <div class="each_col seventh_col">
                                                    ${{data.cpc | number:2}}
                                                </div>
                                                <div class="each_col eight_col">
                                                    ${{data.cpm | number:2}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>

                        </div>
                    </div>
                </div>

                <div class="reports_block" id="reports_byplatforms_block" style="display:none;">

                    <div class="no_data_found" ng-if="dataNotFoundForPlatform" ng-bind-html="getMessageForDataNotAvailable('platforms')">
                    </div>
                    <div class="reports_details_outer_container"  ng-show="!dataNotFoundForPlatform">
                       <div class="clearfix reports_performance_header">
                           <!-- <div class="each_col first_col">
                               <span>Name</span>
                           </div> -->
                           
                           <div class="each_col sec_col">
                               <span>Platform</span>
                           </div>
                           <div class="each_col third_col">
                               <span>Imps.</span>
                           </div>
                           <div class="each_col forth_col">
                               <span class="icon_text_holder"><span class="default-kpi-header-icon" tooltip="Primary KPI" ng-if="selected_filters.campaign_default_kpi_type.toLowerCase() == 'ctr'"></span>CTR</span>
                           </div>
                           <div class="each_col fifth_col">
                               <span class="icon_text_holder"><span class="default-kpi-header-icon" tooltip="Primary KPI" ng-if="selected_filters.campaign_default_kpi_type.toLowerCase() == 'action_rate'"></span>Action Rate</span>
                           </div>
                           <div class="each_col sixth_col">
                               <span class="icon_text_holder"><span class="default-kpi-header-icon" tooltip="Primary KPI" ng-if="selected_filters.campaign_default_kpi_type.toLowerCase() == 'cpa'"></span>CPA</span>
                           </div>
                           <div class="each_col seventh_col">
                               <span class="icon_text_holder"><span class="default-kpi-header-icon" tooltip="Primary KPI" ng-if="selected_filters.campaign_default_kpi_type.toLowerCase() == 'cpc'"></span>CPC</span>
                           </div>
                           <div class="each_col seventh_col">
                               <span class="icon_text_holder"><span class="default-kpi-header-icon" tooltip="Primary KPI" ng-if="selected_filters.campaign_default_kpi_type.toLowerCase() == 'cpm'"></span>CPM</span>
                           </div>

                       </div>

                       <div class="strategy_total_container ">

                           <div class="strategy_total_container_header clearfix">

                               <div class="each_col first_col">
                                   {{strategyHeading}}:
                               </div>
                               <div class="row_list_holder">
                                   <div class="common-load-icon" ng-show="platformBusy"></div>
                                   <!--<div class="clearfix each_row_list" ng-repeat="strategy in strategyPerfDataByPlatform">-->

                                      <div class="clearfix each_row_list" ng-repeat="strategy in strategyPerfDataByPlatform.platform_metrics track by $index">
                                       <div class="each_col platform_logo" >
                                           <img ng-src="{{strategy.icon_url==='Unknown'?'assets/images/platform_logos/platform_logo.png':strategy.icon_url}}" width="16px">
                                           <!--<img ng-src="{{getPlatformIcon(strategy.dimension)}}" width="16px" height="16px">-->
                                       </div>
                                       <div class="each_col sec_col">
                                           {{strategy.platform}}
                                           <!--{{strategy.dimension}}-->
                                       </div>
                                       <div class="each_col third_col">
                                           {{strategy.impressions | number:0}}
                                       </div>
                                       <div class="each_col forth_col">
                                           {{strategy.ctr*100 | number:2}}%
                                       </div>
                                       <div class="each_col fifth_col">
                                           {{strategy.action_rate*100 | number:2}}%
                                       </div>
                                       <div class="each_col sixth_col">
                                           ${{strategy.cpa | number:2}}
                                       </div>
                                       <div class="each_col seventh_col">
                                           ${{strategy.cpc | number:2}}
                                       </div>
                                       <div class="each_col eight_col">
                                           ${{strategy.cpm | number:2}}
                                       </div>
                                   </div>
                               </div>
                           </div>

                           <div class="all_strategies_holder">
                               <!--<div class="each_strategy_holder clearfix" ng-repeat="tactic in tacticsPerfDataListByPlatform|orderBy: sortByColumn">-->

                               <div class="each_strategy_holder clearfix" ng-repeat="tactic in strategyPerfDataByPlatform.tactics track by $index|orderBy: sortByColumn" ng-if="tactic.platform_metrics">
                                   <div class="linkage_bar">
                                   </div>
                                   <div class="each_strategy clearfix">
                                       <div class="each_col first_col">
<!--                                           {{tactic[0].description}}-->
                                           {{tactic.name}}
                                       </div>
                                       <div class="row_list_holder">
                                           <!--<div class="clearfix each_row_list" ng-repeat="data in tactic">-->
                                           <div class="clearfix each_row_list" ng-repeat="data in tactic.platform_metrics track by $index">
                                               <div class="each_col platform_logo"  >
                                                   <!--<img ng-src="{{getPlatformIcon(data.dimension)}}" width="16px" height="16px">-->
                                                   <img ng-src="{{data.icon_url==='Unknown'?'assets/images/platform_logos/platform_logo.png':data.icon_url}}" width="16px">
                                               </div>
                                               <div class="each_col sec_col">
                                                   {{data.platform}}
                                                   <!--{{data.dimension}}-->
                                               </div>
                                               <div class="each_col third_col">
                                                   {{data.impressions | number:0}}
                                               </div>
                                               <div class="each_col forth_col">
                                                   {{data.ctr*100 | number:2}}%
                                               </div>
                                               <div class="each_col fifth_col">
                                                   {{data.action_rate*100 | number:2}}%
                                               </div>
                                               <div class="each_col sixth_col">
                                                   ${{data.cpa | number:2}}
                                               </div>
                                               <div class="each_col seventh_col">
                                                   ${{data.cpc | number:2}}
                                               </div>
                                               <div class="each_col eight_col">
                                                   ${{data.cpm | number:2}}
                                               </div>
                                           </div>
                                       </div>
                                   </div>
                               </div>

                           </div>

                       </div>
                   </div>
                </div>
            </div>
        </div>
        <kpi-drop-down selected-obj=selected_filters style="visibility: hidden" > </kpi-drop-down>
    </div>
</div>