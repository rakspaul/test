<div class="report_generator_and_response">
	<div class="report_builder_container">
	    <div class="container">
	    	<div class="row">
	    		<div class="col-md-12 heading" style="font-weight: bold">
	    			<h3>Upload files</h3>
	    		</div>
	    	</div>
	    </div>
	</div>

  <style media="screen">

  .drop-box {
    background: #F8F8F8;
    border: 2px dashed #DADBDE;
    /*width: 100%;*/
    margin-right: 140px;
    margin-left: 140px;
    /*height: 265px;*/
    text-align: center;
    padding: 40px;
    border-radius:5px;
  }

  .dragover {
    border: 2px dashed #3AA0E6;
  }

	.progress_bar {
		position: relative;
    height: 14px;
    background: #bdccd4;
    border-radius: 2px;
    -moz-border-radius: 2px;
    -webkit-border-radius: 2px;
    margin: 40px 0 25px;
	}
	.progress_area {
		overflow: hidden;
    height: 14px;
    margin-bottom: 20px;
    background-color: #3AA0E6;
    border-radius: 4px;
		width:0px;
    /*-webkit-box-shadow: inset 0 1px 2px rgba(0,0,0,.1);
    box-shadow: inset 0 1px 2px rgba(0,0,0,.1);*/
	}
  </style>


	<div style="    margin-bottom: 40px;
	    background: #f5f9fd;
	    padding: 60px 0;
	    border-top: solid 2px #ccd9e3;">
			<div ng-show="!progress || !reportsUploadList.length"  ngf-drop ngf-select ng-model="files"
	     ng-model-rejected="rejFiles"
	     ngf-multiple="true" ngf-allow-dir="false"  class="drop-box"
	    ngf-drag-over-class="dragover"
	    ngf-accept="'.pdf,.xls,.ppt,.pptx'"
	   ngf-max-size='10000000'>
	    <!-- ngf-accept="'.pdf,.xls'"
	   ngf-max-size='1000000000000' -->
	            <div class="" style="height: 200px;width: 300px;margin: 0 auto;background:url('/assets/images/cdesk/dragging_files.png') no-repeat center center">
	            </div>
	      			<span class="img_table_txt">
	      				Simple drag and drop files to add or  <a id="fileupload" href="#" >Browse</a>
	      			</span>
	            <center>(ppt, pptx, pdf, xls)</center>


			</div>




	<!-- accept="image/*,application/pdf" -->
	  <!-- <div ngf-drop ngf-select ng-model="files" class="drop-box"
	      ngf-drag-over-class="dragover" ngf-multiple="true" ngf-allow-dir="false" ngf-accept="'.pdf,.xls'"
	       ngf-max-size='10000000'>Drop pdfs or images here or click to upload</div> -->
	  <div ngf-no-file-drop>File Drag/Drop is not supported for this browser</div>



	<div ng-show="progress && reportsUploadList.length" class="drop-box">
		<span style="font-size:22px;font-weight:bold">{{ 100 *(loaded/total) | number: 0 }}%</span>
		<div class="progress_bar">
			<div class="progress_area" style="width: {{100 *(loaded/total)}}%"></div>
		</div>
		Uploading {{ (loaded < total) ? loaded+1 : loaded }} of {{total}}<br>

	</div>
	</div>

    <div class="custom_report_upload_page">


      <!-- <div ng-show="total>0">
        Uploaded {{loaded}} of {{total}}<br>
        Progress: {{ 100 *(loaded/total) }} %
      </div> -->

      <!-- Accepted Files:
      <ul>
        <li ng-repeat="f in files" style="font:smaller">
          Filename:{{f.name}} -- Size:{{f.size}} bytes </li>
      </ul> -->


			<!-- <ol>
				<li ng-repeat="file in reportsUploadList">{{file.name}} {{file.size}} :::: {{file.status}}</li>
			</ol> -->
			<style media="screen">
			  
			  .notes {
			    border: 1px solid #ccc;
			    padding: 5px;
			    margin-top: 10px;
			    display: block;
			  }
			</style>

			        <div class="custom_report_response_page" ng-show="reportsUploadList.length">

			              <div class="clearfix" style="border:1px solid #ccc; padding:15px;margin-top:10px" >
							<span ng-show="progress" class="col-md-1 each-col">Status</span>
			                <span class="col-md-3 each-col">File Name</span>
							<span class="col-md-1 each-col">Size</span>
			                <span class="col-md-3 each-col">Report Type</span>
			                <span class="col-md-4 each-col">Campaign</span>
			              </div>

			              <div ng-repeat="(index, file) in reportsUploadList" style="border:1px solid #ccc;margin-bottom:5px; height:auto;width:100%;padding:15px">
							<fieldset ng-disabled="file.status && progress">
								<div class="clearfix">
									<span ng-show="file.status" class="col-md-1 each-col">{{file.status}}</span>
									<span class="col-md-3 each-col">{{file.name}}</span>
									<span class="col-md-1 each-col">{{file.size/1000000 | number:2}} MB</span>
									<span class="col-md-3 each-col">
										<select data-ng-options="o.name for o in reportTypeList" ng-model="file.reportType" class="pull-left"></select>
										<input type="text" style="width:112px" ng-model="file.reportName" placeholder="Report Name" class="pull-left">
									</span>
					               <!--  <span class=""></span> -->
		<!-- TODO: get campaignId and need many instances -->
									<div class="col-md-4 each-col">
										<campaign-drop-down selected-obj="file.selectedCampaign"> </campaign-drop-down>
									</div>

									<span  ng-click="localDelete(index)" ng-show="file.status!='success'" style="cursor:pointer" class="col-md-1 each-col" >Delete</span>
									<span  ng-click="serverDelete(index,file.data.id)" ng-show="file.status=='success'" style="cursor:pointer" class="col-md-1 each-col" >Server Delete</span>

				        </div>
								<div class="clearfix col-md-12" style="margin-top:10px ;">
									<span>Description:</span>
									<input style="width:90%" type="text" ng-model="file.notes" placeholder="Description">
								</div>
							</fieldset>
						</div>
			              <!--  no data or loading -->
			            <div style="margin-bottom:20px;margin-top:20px" ng-show="reportsUploadList.length">
						  <span ng-click="upload()" ng-show="!progress" style="background:#3AA0E6; display:inline-block;padding:10px;border-radius:5px;color:#fff">Start Upload</span>

							<a href="/reports/upload" ng-show="!progress" style="margin-left:10px;background:#DADBDE;display:inline-block;padding:10px;border-radius:5px;color:#fff">Cancel</a>

							<a href="/reports/upload" ng-show="progress" style="background:#3AA0E6;display:inline-block; padding:10px;border-radius:5px;color:#fff">Done</a>
						</div>
			          </div>





			


<!--dont style this - - logging area for test-->
      <div style="margin-top:10px;"> <!--to be removed after development -->
				Rejected Error log:
				<ul style="display: block;
			    padding: 9.5px;
			    margin: 0 0 10px;
			    font-size: 13px;
			    line-height: 1.42857143;
			    word-break: break-all;
			    word-wrap: break-word;
			    color: #333;
			    background-color: #f5f5f5;
			    border: 1px solid #ccc;
			    border-radius: 4px;">
					<li ng-repeat="r in rejFiles">
						<span style="color:red">{{(r.$error=="maxSize"?'File size exceeds 10MB':'Unsupported file format')}}
					</span>
						<!-- **Filename:{{r.name}} -- Size:{{r.size}} bytes -- Error: {{r.$error}} -->
					</li>
				</ul>

				<span>Upload Log:</span>
      			<pre>{{log}}</pre>
			</div><!--to be removed after development -->
<!--dont style this - - logging ends** -->


    </div> <!-- end of custom_report_response_page -->




	
</div>
