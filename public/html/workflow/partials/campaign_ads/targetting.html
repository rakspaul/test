<div class="col-md-7 zeroPadding">
    <h2 class="col-md-12 zeroPadding marginBottom" data-ng-bind="textConstants.SETTARGETING"></h2>
    <a href="javascript:void(0);" class="helpLink" style="margin-top: 10px; display: inline-block;" data-ng-bind="textConstants.TARGETAUDCHOOSE"></a>
</div>

<!--=== Targeting Type ===-->
<div class="col-md-12 zeroPadding dropdown-workflow">
    <div class="col-md-3 zeroPadding">
        <div class="dropdown ddlSetTarget msgPopupHolder">
            <div class="msgPopup" ng-show="!$parent.isPlatformSelected">
                <div class="msg" data-ng-bind="textConstants.ENABLETARGETINGAD"></div>
                <div class="btn-holder">
                    <a href="#buying" data-toggle="tab" class="pull-right common_primary_btn leftNavLink" data-ng-bind="textConstants.SELECTPLATFORM"></a>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="col-md-12 zeroPadding">
    <!--Audience Targeting Card-->
    <div class="col-md-6 cardSelectHolder" ng-class="{true: 'active'}[selectedTargeting['audience']]">
        <span ng-if="selectedAudience && selectedAudience.length > 0" class="icon-inline-edit" ng-style="(selectedAudience.length >0)?{'display':'block'}:{'display':'none'}"></span>
        <span ng-if="selectedAudience && selectedAudience.length > 0" tooltip="Clear Settings" class="icon-trash" ng-style="(selectedAudience.length >0)?{'display':'block'}:{'display':'none'}"></span>
        <div class="icon-audience"></div>
        <p data-ng-bind="textConstants.AUDSEGMENTS"></p>
        <div ng-if="!selectedAudience || selectedAudience.length == 0">
            <span data-ng-bind="textConstants.REACHAUD"></span>
            <p style="margin: 0px;"><span data-ng-bind="textConstants.ALLAUD"></span></p>
        </div>
        <div class="targetDataSaved" ng-if="selectedAudience && selectedAudience.length > 0">
            <div class="targetDataSavedTop">
                <div class="icon-target"></div>
                <span data-ng-bind="textConstants.SELECTED"></span>
                <div class="badge" data-ng-bind="selectedAudience.length"></div>
            </div>
            <span class="targetListItem" ng-if="selectedAudience.length >= 1">{{selectedAudience[0].name | limitTo: 30}}{{selectedAudience[0].name.length > 30 ? '...' : ''}}</span>
            <span class="targetListItem" ng-if="selectedAudience.length >= 2">{{selectedAudience[1].name | limitTo: 30}}{{selectedAudience[1].name.length > 30 ? '...' : ''}}</span>
            <span class="targetListItem" ng-if="selectedAudience.length >= 3">{{selectedAudience[2].name | limitTo: 30}}{{selectedAudience[2].name.length > 30 ? '...' : ''}}</span>
            <span class="targetListItemMore" ng-if="selectedAudience.length > 3">+{{selectedAudience.length - 3}} more</span>
        </div>
        <span  ng-if="$parent.isPlatformSelected" class="onSelectBtn btn btn-default active" ng-click="selectAudTarget()"></span>
        <input ng-if="!selectedAudience || selectedAudience.length ==0" type="button" name="platform" value="Create" ng-disabled="!$parent.isPlatformSelected" class="btn btn-default" ng-click="selectAudTarget()">
    </div>
    <!--Geo Targeting Card-->
    <div class="col-md-6 cardSelectHolder" ng-class="{true: 'active'}[selectedTargeting['geography']]">
        <span ng-if="adData.geoTargetingData" class="icon-inline-edit" ng-style="(geoTargetingData.selected.previewData.include.regions.length > 0 || geoTargetingData.selected.previewData.include.cities.length > 0 || geoTargetingData.selected.previewData.include.zipCodes[0].values.length > 0)?{'display':'block'}:{'display':'none'}"></span>
        <span ng-if="adData.geoTargetingData" tooltip="Clear Settings" class="icon-trash" ng-style="(geoTargetingData.selected.previewData.include.regions.length > 0 || geoTargetingData.selected.previewData.include.cities.length > 0 || geoTargetingData.selected.previewData.include.zipCodes[0].values.length > 0)?{'display':'block'}:{'display':'none'}"></span>
        <div class="icon-location"></div>
        <p>Geography <span>({{locale.id === 'en-gb' ? 'UK' : 'US'}} Only)</span></p>
        <div ng-if="!geoTargetingData.selected.previewData.include && !geoTargetingData.selected.previewData.exclude ">
            <span data-ng-bind="textConstants.TARGETAUDLOC"></span>
            <p style="margin: 0px;"><span>All {{locale.id === 'en-gb' ? 'UK' : 'US'}} (default)</span></p>
        </div>
        <div class="targetDataSaved" ng-if="geoTargetingData.selected.previewData.include || geoTargetingData.selected.previewData.exclude ">
            <div class="targetDataSavedTop">
                <div class="icon-target"></div>
                <span data-ng-bind="textConstants.INCLUDED"></span>
                <div class="badge">
                    {{geoTargetingData.selected.previewData.include.regions.length + geoTargetingData.selected.previewData.include.cities.length + geoTargetingData.selected.previewData.include.zipCodes[0].values.length + geoTargetingData.selected.previewData.include.dmas.length}}
                </div>
            </div>
            <span class="targetListItem">
                {{(geoTargetingData.selected.previewData.include.regions.length > 0)?geoTargetingData.selected.previewData.include.regions.length: 0}} Regions,
                {{(geoTargetingData.selected.previewData.include.cities.length > 0)?geoTargetingData.selected.previewData.include.cities.length: 0}} City,
                {{(geoTargetingData.selected.previewData.include.zipCodes[0].values.length > 0)?geoTargetingData.selected.previewData.include.zipCodes[0].values.length: 0}} Postal codes
                {{(geoTargetingData.selected.previewData.include.dmas.length > 0)?geoTargetingData.selected.previewData.include.dmas.length: 0}} DMA
            </span>

            <div class="targetDataSavedTop" style="padding-top: 20px;" ng-if="geoTargetingData.selected.previewData.exclude.cities.length > 0 ||geoTargetingData.selected.previewData.exclude.dmas.length > 0">
                <div class="icon-exclude"></div>
                <span data-ng-bind="textConstants.EXCLUDED"></span>
                <div class="badge">{{geoTargetingData.selected.previewData.exclude.cities.length + geoTargetingData.selected.previewData.exclude.dmas.length}}</div>
            </div>
            <span class="targetListItem" ng-if="geoTargetingData.selected.previewData.exclude.cities.length > 0 ||geoTargetingData.selected.previewData.exclude.dmas.length > 0">
                {{geoTargetingData.selected.previewData.exclude.cities.length}} Cities
                {{geoTargetingData.selected.previewData.exclude.dmas.length}} DMA
            </span>
        </div>
        <span ng-if="(geoTargetingData.selected.previewData.include.regions.length > 0 || geoTargetingData.selected.previewData.include.cities.length > 0 || geoTargetingData.selected.previewData.include.zipCodes[0].values.length > 0 ||geoTargetingData.selected.previewData.exclude.dmas.length > 0 || geoTargetingData.selected.previewData.include.dmas.length > 0)" class="onSelectBtn btn btn-default active" ng-click="mode == 'edit' ? updateGeoTargets() : selectGeoTarget()"></span>
        <input ng-if="!geoTargetingData.selected.previewData.include && !geoTargetingData.selected.previewData.exclude " type="button" name="platform" value="Create" ng-disabled="!$parent.isPlatformSelected" class="btn btn-default" ng-click="selectGeoTarget()">
    </div>
    <!--Daypart Targeting Card-->
    <div class="col-md-6 cardSelectHolder" ng-if="adData.platformName !== 'DORADO'" ng-class="{true: 'active'}[selectedTargeting['daily']]">
        <span ng-if="selectedDayParts['data'].length  > 0" class="icon-inline-edit" ng-style="(selectedDayParts['data'].length >0)?{'display':'block'}:{'display':'none'}"></span>
        <span ng-if="selectedDayParts['data'].length  > 0" tooltip="Clear Settings" class="icon-trash" ng-style="(selectedDayParts['data'].length >0)?{'display':'block'}:{'display':'none'}"></span>
        <div class="icon-activity"></div>
        <p data-ng-bind="textConstants.DAYPART"></p>
        <div ng-if="!selectedDayParts['data'] || selectedDayParts['data'].length  == 0">
            <span data-ng-bind="textConstants.SELECTADREST"></span>
            <p style="margin: 0px;"><span data-ng-bind="textConstants.ALLDAYSTIMES"></span></p>
        </div>
        <div class="targetDataSaved" ng-if="selectedDayParts['data'] && selectedDayParts['data'].length  > 0">
            <div class="targetDataSavedTop">
                <div class="icon-target"></div>
                <span data-ng-bind="textConstants.INCLUDED"></span>
                <div class="badge" data-ng-bind="dayPartTotal"></div>
            </div>
            <span class="targetListItem" ng-if="selectedDayParts['selected'] != 'Custom schedule'">{{selectedDayParts['selected']}}</span>
            <span class="targetListItem" ng-if="selectedDayParts['data'].length >= 1 && selectedDayParts['selected'] == 'Custom schedule'">{{selectedDayParts['data'][0].day}} {{(selectedDayParts['data'][0].startTime)?selectedDayParts['data'][0].startTime:""}} {{(selectedDayParts['data'][0].endTime)?selectedDayParts['data'][0].endTime:""}}</span>
            <span class="targetListItem" ng-if="selectedDayParts['data'].length >= 2 && selectedDayParts['selected'] == 'Custom schedule'" >{{selectedDayParts['data'][1].day}} {{(selectedDayParts['data'][1].startTime)?selectedDayParts['data'][1].startTime:""}} {{(selectedDayParts['data'][1].endTime)?selectedDayParts['data'][1].endTime:""}}</span>
            <span class="targetListItem" ng-if="selectedDayParts['data'].length >= 3 && selectedDayParts['selected'] == 'Custom schedule'">{{selectedDayParts['data'][2].day}} {{(selectedDayParts['data'][2].startTime)?selectedDayParts['data'][2].startTime:""}} {{(selectedDayParts['data'][2].endTime)?selectedDayParts['data'][2].endTime:""}}</span>
            <span class="targetListItemMore" ng-if="selectedDayParts['data'].length > 3 && selectedDayParts['selected'] == 'Custom schedule'">+{{selectedDayParts['data'].length - 3}} more</span>
        </div>
        <span ng-if="$parent.isPlatformSelected" class="onSelectBtn btn btn-default active" ng-click="selectDayTarget()"></span>
        <input ng-if="!selectedDayParts['data'] || selectedDayParts['data'].length  == 0" type="button" name="platform" value="Create" ng-disabled="!$parent.isPlatformSelected" class="btn btn-default" ng-click="selectDayTarget()">
    </div>
</div>





<!--=== Audience Targeting ===-->
<div class="col-md-12 targetingSlide" id="audienceTargeting" ng-include="'/assets/html/workflow/partials/targetings/audience_targeting.html'" ng-controller="AudienceTargettingController"></div>

<div class="col-md-12 targetingSlide" id="geographyTargeting" ng-include="'/assets/html/workflow/partials/targetings/geography_targeting.html'" ></div>
<div class="col-md-12 targetingSlide" ng-if="adData.platformName !== 'DORADO'" id="dayTargeting" ng-include="'/assets/html/workflow/partials/targetings/day_targeting.html'" ng-controller="daypartController"></div>



<!--=== Next Step Panel ===-->
<span class="nextWrapper leftNavLink">
    <a href data-toggle="tab"  class="btn btn-default" ng-click="triggerInventory()" data-ng-bind="textConstants.WF_AD_SAVE_CONTINUE"></a>
</span>

<div class="msgPopupHolder" id="confirmBox" ng-show="showConfirmBox">
    <div class="msgPopup">
        <div>
            <div class="msg pull-left" style="padding-top: 10px;" data-ng-bind="textConstants.AREYOUSURE"></div>
            <div class="clearfix btn-holder" style="margin: 0;">
                <div class="pull-right common_primary_btn" ng-click="removeSelectedList(boxType, boxsubType);" data-ng-bind="textConstants.YES"></div>
                <div class="pull-right secondary_txt"  ng-click="hideConfirmBox()" data-ng-bind="textConstants.NO"></div>
            </div>
        </div>
    </div>
</div>
