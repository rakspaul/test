<div class="top_message_box" ng-class="{'red_msg':flashMessage.isErrorMsg}" ng-show="flashMessage.message">
	<span class="msg_box">
		<span class="msg_icon">x</span>
		<span class="msg_txt" >
      {{flashMessage.message}}
    </span>
    <span class="close_msg_box_holder">
      <span class="close_msg_box" ng-click="close_msg_box($event);">x</span>
    </span>
	</span>
</div>
<div class="report_generator_and_response">
	<div class="report_builder_container">
	    <div class="container">
	    	<div class="row">
	    		<div class="col-md-12 heading">
	    			<h3>{{textConstants.REPORT_BUILDER}}</h3>
	    		</div>
	    	</div>

		    <div class="row">
		    	<div class="col-md-6 ">
		           	 <div class="each_section_custom_report">
		           		<div class="create_report_title">
		           			{{textConstants.REPORT_LABEL}}
		           		</div>
		           		<div>

		           			<div class="clearfix title_row_separator breakdown_div dimension_block">
			           			<div class="pull-left custom_report_filter custom_report_breakdown">
			           				 <div class="common_dropdown">
			                              <div class="dropdown" >
		                                    <span class="dropdown_ul_text" data-toggle="dropdown" >
		                                        <span class="dd_txt" data-template_id = "{{showDefaultDimension.template_id}}" id="{{showDefaultDimension.key}}">{{textConstants.REPORT_CHOOSE_BREAKDOWN}}</span>
		                                        <span class="arrow_img"></span>
		                                    </span>
		                                    <ul class="dropdown-menu" ng-click="enable_generate_btn();">
		                                    	<li ng-click="select_dropdown_option($event)">{{textConstants.REPORT_CHOOSE_BREAKDOWN}}</li>
		                                        <li ng-repeat="dimension in customeDimensionData[0].dimensions"   id="{{dimension.key}}" ng-click="select_dimension($event, dimension, 'Primary', 0)">{{dimension.value}}</li>
		                                    </ul>
			                              </div>
			                          </div>
			           			</div>
								<div class="pull-left filter_input_txtbox" style="display:none;" >
									<input type="text" name="filter" class ="reportFilter" ng-model='primaryDimensionKeyword' data-reportType = "Primary" autofocus placeholder="Contains keywords ..." />
								</div>
		           			</div>

		           			<div id="breakdown_row" ></div>

		           			<div class="row">
		           				<div class="add_breakdown_line">
		           				</div>
		           				<div class="clearfix add_breakdown_btn" addmore>
		           					<div class="pull-left add_circle_symbol">
		           					</div>
		           					<div class="pull-left">
		           						{{textConstants.ADD_BREAKDOWN_LABEL}}
		           					</div>

		           				</div>
			           		</div>
		           		</div>
		           	</div>
		           	<div class="each_section_custom_report">
		           		<div class="create_report_title">
		           			{{textConstants.REPORT_BUILDER_TIMEFRAME}}
		           		</div>
		           		<div >
		           			<div class="clearfix title_row_separator customDatesTimeframe">
			           			<div class="pull-left col-md-4 timeframe_selector">
			           				 <div class="common_dropdown">
			                              <div class="dropdown" >
		                                    <span class="dropdown_ul_text" data-toggle="dropdown">
		                                        <span class="dd_txt" id="date-selected-txt">{{textConstants.YESTERDAY}}</span>
		                                        <span class="arrow_img"></span>
		                                    </span>
		                                    <ul class="dropdown-menu" >
		                                    	<li ng-model="reports.reportDefinition.timeframe.type" ng-repeat="timeframe in textConstants.REPORT_BUILDER_TIMEFRAME_LIST" ng-click="reports.reportDefinition.timeframe.type = timeframe; select_dropdown_option($event , timeframe)">{{timeframe}}</li>
		                                    </ul>
			                              </div>
			                          </div>
			           			</div>

								<div class="pull-left col-md-8">
									<div class="col-md-12 input-daterange input-group date pull-left">
									    <div class="col-md-12 dateWrapper ">
									    	<div class="col-md-6">
									        	<input type="text" id="startDateInput" class="input-sm form-control timeframe" ng-model="reports.reportDefinition.timeframe.start_date" required/>
									        	<i class="icon-calendar glyphicon pull-right"></i>
									        </div>
									        <div class="col-md-6">
									        	<input type="text" id="endDateInput" class="input-sm form-control timeframe"  ng-model="reports.reportDefinition.timeframe.end_date" required/>
									        	<i class="icon-calendar glyphicon pull-right"></i>
									        </div>
									    </div>

									</div>

								</div>
		           			</div>


		           		</div>
		           	</div>

		         </div>
		         <div class="col-md-6 left_border">
		         	<div class="each_section_custom_report">
		           		<div class="create_report_title">
		           			{{textConstants.REPORT_ADDITIONAL_FILTERS}}
		           		</div>
		           		<div class="additional_filters_holder">
		           			<div id="filter_breakdown_row" ></div>

		           			<div class="clearfix title_row_separator">
			           			<div class="pull-left additional_filters_label" addfilter>
			           				<div class="pull-left add_circle_symbol">
			           				</div>
			           				<div class="pull-left blue_txt">
			           					{{textConstants.REPORT_ADD_FILTERS}}
			           				</div>
			           			</div>


		           			</div>
		           		</div>
		           	</div>
		           	<div class="each_section_custom_report metrics_section">
		           		<div class="create_report_title">
		           			Metrics
		           		</div>
		           		<div class="metrics_btns">
		           			<div class="clearfix title_row_separator">
		           				<div class="pull-left metrics_edit_container">
				           			<a class="blue_txt" href="#" data-toggle="modal" data-target=".metric_popup">
				           				<span class="dashed_txt">{{metrics_text}}</span>
				           			</a>

			           			</div>

		           			</div>

		           		</div>

		           		<div class="metric_popup modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
						    <div class="about_popup">
						        <span class="close unselectable" data-dismiss="modal" aria-hidden="true">Ã—</span>
						        <div class="col-md-12 each_section_custom_report" >
						       		<div class="total_metrics_container" >
						       			<input style="display:none" type="text" placeHolder="Search" class="search_input" />
						       			<div class="clearfix">
						       				<div class="pull-left popup_heading">Metrics</div>
							       			<div class="pull-right select_all_measures_holder">
							       				<div class="clearfix custom_report_col_title">
							   						<div class="pull-right external_chkbox">
							                          <div class="squaredFour">
							                            <input ng-click="select_unselect_all($event);" type="checkbox" class="squaredFourChkbox" id="selectAll_chkbox"  />
							                            <label for="selectAll_chkbox"></label>
							                          </div>
							                          <span class="squaredFourTxt">Select All</span>
							                        </div>
							   					</div>
							       			</div>
						       			</div>
						       			<div class="measurable_col_holder">
						       				<div  class="col-md-3 each_measurable_col">
						       					<div class="custom_report_col_title">
						       						<div class="external_chkbox clearfix">
						                              <div class="squaredFour">
						                                <input type="checkbox" class="squaredFourChkbox" id="delivery_chkbox" ng-click="select_unselect_metrics($event)" />
						                                <label for="delivery_chkbox"></label>
						                              </div>
						                              <span class="squaredFourTxt">Delivery</span>
						                            </div>
						       					</div>
						       					<div class="custom_report_col">
						       						<div class="each_option" relationIds='Delivery' ng-repeat="delivery_metric in customeDimensionData[0].delivery_metrics" id="{{delivery_metric.key}}" ng-click="select_option($event , 'delivery_chkd')" >
						       							{{delivery_metric.value}}
						       						</div>
						       					</div>
						       				</div>
						       				<!--div  class="col-md-3 each_measurable_col">
						       					<div class="custom_report_col_title">
						       						<div class="external_chkbox clearfix">
						                              <div class="squaredFour">
						                                <input type="checkbox" class="squaredFourChkbox" id="booked_chkbox" ng-click="select_unselect_metrics($event)" />
						                                <label for="booked_chkbox"></label>
						                              </div>
						                              <span class="squaredFourTxt">Booked</span>
						                            </div>
						       					</div>
						       					<div class="custom_report_col">
						       						<div class="each_option" ng-repeat="booked_metric in customeDimensionData[0].booked_metrics" id="{{booked_metric.key}}" ng-click="select_option($event , 'booked_chkd')" >
						       							{{booked_metric.value}}
						       						</div>
						       					</div>
						       				</div-->
						       				<div  class="col-md-3 each_measurable_col">
						       					<div class="custom_report_col_title">
						       						<div class="external_chkbox clearfix">
						                              <div class="squaredFour">
						                                <input type="checkbox" class="squaredFourChkbox" id="engagement_chkbox" ng-click="select_unselect_metrics($event)"  />
						                                <label for="engagement_chkbox"></label>
						                              </div>
						                              <span class="squaredFourTxt">Engagement</span>
						                            </div>
						       					</div>
						       					<div class="custom_report_col">
						       						<div class="each_option" relationIds='Engagement' ng-repeat="engagement_metric in customeDimensionData[0].engagement_metrics" id="{{engagement_metric.key}}" ng-click="select_option($event , 'engagement_chkd')" >
						       							{{engagement_metric.value}}
						       						</div>
						       					</div>
						       				</div>
						       				<div  class="col-md-3 each_measurable_col">
						       					<div class="custom_report_col_title">
						       						<div class="external_chkbox clearfix">
						                              <div class="squaredFour">
						                                <input type="checkbox" class="squaredFourChkbox" id="video_chkbox" ng-click="select_unselect_metrics($event)" />
						                                <label for="video_chkbox"></label>
						                              </div>
						                              <span class="squaredFourTxt">Video</span>
						                            </div>
						       					</div>
						       					<div class="custom_report_col">
						       						<div class="each_option" relationIds='Video' ng-repeat="video_metric in customeDimensionData[0].video_metrics" id="{{video_metric.key}}" ng-click="select_option($event, 'video_chkd')" >
						       							{{video_metric.value}}
						       						</div>
						       					</div>
						       				</div>
											<div  class="col-md-3 each_measurable_col">
												<div class="custom_report_col_title">
													<div class="external_chkbox clearfix">
														<div class="squaredFour">
															<input type="checkbox" class="squaredFourChkbox" id="display_quality_chkbox" ng-click="select_unselect_metrics($event)" />
															<label for="display_quality_chkbox"></label>
														</div>
														<span class="squaredFourTxt">Quality Display</span>
													</div>
												</div>
												<div class="custom_report_col">
													<div class="each_option" relationIds='Quality Display' ng-repeat="display_quality_metrics in customeDimensionData[0].display_quality_metrics" id="{{display_quality_metrics.key}}" ng-click="select_option($event, 'display_quality_chkbox')" >
														{{display_quality_metrics.value}}
													</div>
												</div>
											</div>
											<div  class="col-md-3 each_measurable_col">
												<div class="custom_report_col_title">
													<div class="external_chkbox clearfix">
														<div class="squaredFour">
															<input type="checkbox" class="squaredFourChkbox" id="video_quality_chkbox" ng-click="select_unselect_metrics($event)" />
															<label for="video_quality_chkbox"></label>
														</div>
														<span class="squaredFourTxt">Quality Video</span>
													</div>
												</div>
												<div class="custom_report_col">
													<div class="each_option" relationIds='Quality Video' ng-repeat="video_quality_metrics in customeDimensionData[0].video_quality_metrics" id="{{video_quality_metrics.key}}" ng-click="select_option($event, 'video_quality_chkbox')" >
														{{video_quality_metrics.value}}
													</div>
												</div>
											</div>

										</div>
						       			<div class="clearfix">
						       				<div class="pull-right common_primary_btn" ng-click="metricSelected($event)">Save</div>
						       				<div class="pull-right secondary_txt"  data-dismiss="modal" aria-hidden="true">Cancel</div>
						       			</div>
						       		</div>
						       	</div>
						    </div>
						</div>
		      </div>

		         </div>
		    </div>
		    <div class="row create_scheduled_report">

		    	<div class="col-md-12  each_section_custom_report">
		    		<div class="create_report_title">
                        {{textConstants.SCHEDULE_LABEL}}
		           	</div>
		           	<div class="clearfix scheduled_report_fields">
			    		<div class="each-col" id="schedule-btn">
			    			<div class="label-txt">
                                {{textConstants.SET_SCHEDULE}}
			    			</div>
			    			<div class="schedule-on-off-btn">
			    				<input type="checkbox" ng-model="scheduleReportActive" checked data-toggle="toggle" id="toggle" data-on=" " data-off=" ">
			    			</div>
			    		</div>
			    		<div class="each-col default-schedule-col report-name-col">
			    			<div class="label-txt">
                                {{textConstants.REPORT_NAME}}
			    			</div>
			    			<div>
			    				<input type="text" ng-model="reports.name">
			    			</div>
			    		</div>
			    		<div class="each-col default-schedule-col">
			    			<div class="label-txt">
                                {{textConstants.WF_FREQUENCY}}
			    			</div>
			    			<div>
                                <div class="common_dropdown">
                                    <div class="dropdown">
                                        <span class="dropdown_ul_text" data-toggle="dropdown">
                                            <span class="dd_txt" id="date-selected-txt">Select</span>
                                            <span class="arrow_img"></span>
                                        </span>
                                        <ul class="dropdown-menu">
                                            <li ng-repeat="frequency in textConstants.WF_FREQUENCY_LIST" ng-model="reports.schedule.frequency" ng-click="reports.schedule.frequency = frequency; select_schedule_option($event ,  frequency)">{{frequency}}
                                            </li>
                                        </ul>
                                    </div>
                                </div>
			    			</div>
			    		</div>
			    		<div class="each-col scheduling-options schedule-once" >
			    			<div class="label-txt">
			    				{{textConstants.SCHEDULE_DELIVER_ON}}
			    			</div>
			    			<div>
			    				<div class="input-daterange input-group date pull-left">
								    <div class="dateWrapper">
								        	<input type="text" id="deliverOn" name="scheduleReportStartDate" ng-model="reports.schedule.startDate" class="input-sm form-control timeframe" required="">
								        	<i class="icon-calendar glyphicon pull-right"></i>
								    </div>
								</div>
			    			</div>
			    		</div>
			    		<div class="each-col scheduling-options schedule-weekly">
			    			<div class="label-txt">
                                {{textConstants.SCHEDULE_OCCURS_ON}}
			    			</div>
			    			<div>
                                <div class="common_dropdown">
                                    <div class="dropdown">
                                        <span class="dropdown_ul_text" data-toggle="dropdown">
                                            <span class="dd_txt" id="date-selected-txt">Select</span>
                                            <span class="arrow_img"></span>
                                        </span>
                                        <ul class="dropdown-menu">
                                            <li ng-repeat="week in textConstants.WEEKNAME" ng-model="reports.schedule.occurance" ng-click="reports.schedule.occurance = week; select_dropdown_option($event);">{{week}}</li>
                                        </ul>
                                    </div>
                                </div>
			    			</div>
			    		</div>
			    		<div class="each-col scheduling-options schedule-monthly">
			    			<div class="label-txt">
                                {{textConstants.SCHEDULE_OCCURS_ON}}
			    			</div>
			    			<div>
                                <div class="common_dropdown">
                                    <div class="dropdown">
                                      <span class="dropdown_ul_text" data-toggle="dropdown">
                                          <span class="dd_txt" id="date-selected-txt">Select</span>
                                          <span class="arrow_img"></span>
                                      </span>
                                        <ul class="dropdown-menu">
                                            <li ng-repeat="schedule_occur in textConstants.SCHEDULE_REPORT_OCCURS_ON_LIST" ng-model="reports.schedule.occurance" ng-click="reports.schedule.occursOn = schedule_occur; select_schedule_occurs_option($event, schedule_occur);">
                                                {{schedule_occur}}
                                            </li>
                                        </ul>
                                    </div>
                                </div>
			    			</div>
			    		</div>
			    		<div class="each-col scheduling-options schedule-occurs-custom">
			    			<div class="label-txt">
                                {{textConstants.SELECT_DATE_LABEL}}
			    			</div>
			    			<div>
			    				<div class="common_dropdown">
                                    <div class="dropdown">
                                        <span class="dropdown_ul_text" data-toggle="dropdown">
                                            <span class="dd_txt" id="date-selected-txt">Select</span>
                                            <span class="arrow_img"></span>
                                        </span>
                                        <ul class="dropdown-menu">
                                            <li ng-repeat="counter in range(1,10)" ng-model="reports.schedule.customOccuranceDate" ng-click="reports.schedule.customOccuranceDate = counter; select_dropdown_option($event);">{{counter}}
                                            </li>
                                        </ul>
                                    </div>
                                </div>
			    			</div>
			    		</div>
			    		<div class="each-col scheduling-options schedule-date">
			    			
			    			<div class="input-daterange-scheduled">
			    				<div class="input-daterange input-group date pull-left">
								    <div class="dateWrapper">
								    	<div class="pull-left">
								    		<div class="label-txt">
				                                {{textConstants.SCHEDULE_START_DATE_LABEL}}
							    			</div>
								    		<div>
		                                        <input type="text" id="startOn" class="input-sm form-control timeframe" ng-disabled="reports.schedule.frequency === 'Once'" ng-model="reports.schedule.startDate" required="">
										        <i class="icon-calendar glyphicon pull-right"></i>
									        </div>
								        </div>
								        <div class="pull-left endScheduledDate">
								        	<div class="label-txt">
				                                {{textConstants.SCHEDULE_END_DATE_LABEL}}
							    			</div>
								        	<div>
									        	<input type="text" id="endOn" ng-model="reports.schedule.endDate"  class="input-sm form-control timeframe" required="">
									        	<i class="icon-calendar glyphicon pull-right"></i>
								        	</div>
								        </div>
								    </div>
								</div>
			    			</div>
			    		</div>
			    		
			    	</div> 
		    	</div>
		    </div>
		    <div class="row">
		    	<div class="col-md-12">
		    		<button class="pull-right common_primary_btn report_generate_button {{generateBtnDisabled ? 'disabled' : ''}}"  ng-click="scheduleReportActive ? scheduleReport() : generateReport()" >
                        {{scheduleReportActive ? textConstants.SCHEDULE_LABEL : textConstants.GENERATE_LABEL}}
			    	</button>
			    	<div class="pull-right secondary_txt" ng-click="reset_metric_options()" >
           				Reset
           			</div>
		    	</div>
		    </div>
	    </div>
	</div>




	<!-- Custom Report Response Page -->
	<div class="custom_response_screenshot_container">
		<div class="img_table_container">
			<span class="img_table_txt">
				Please select dimensions, timeframe and any additional <br> parameters to generate a report
			</span>
			<div class="img_table"></div>
		</div>
		<div class="custom_report_response_page" style="display:none;">
			<!-- generating report loader -->
			<div class="report-response-load"  style="display:none;">
				Generating Report...
			</div>
			<!-- end of generating report loader -->
			<div class="report_response_and_tabs" >
				<div ng-if="!hideReportsTabs" class="clearfix custom_report_response_tabs"><!-- add  style="display:none;"  when tabs are not to be shown -->
					<div class="each_tab active" ng-click="show_respective_table('delivery')" id="delivery_tab"><span>Delivery</span></div>
					<!--<div class="each_tab" ng-click="show_respective_table('booked')" id="booked_tab"><span>Booked</span></div>-->
					<div class="each_tab" ng-click="show_respective_table('engagement')" id="engagement_tab"><span>Engagement</span></div>
					<div class="each_tab" ng-click="show_respective_table('video')" id="video_tab"><span>Video</span></div>
					<div class="each_tab" ng-click="show_respective_table('display_quality')" id="display_quality_tab"><span>Quality Display</span></div>
					<div class="each_tab" ng-click="show_respective_table('video_quality')" id="video_quality_tab"><span>Quality Video</span></div>
				</div>
				<div class="custom_report_response_table" id="delivery_table">
					<div class="custom_report_scroll"><!-- add vertical_scroll class when scrolled vertically -->

						<div class="each_row heading_row">
							<div class="inner_heading_row">
								<div class="each_col tree_dimension_col">{{reportTitle}}</div>
								<div class="each_col" ng-repeat="dm in metricKeyArr.delivery_metrics track by $index">
									{{dm.value}}
								</div>
							</div>
						</div>
						<div class="clearfix first_dimension_row_holder" >
							<div ng-if="reportDataLoading" class="common-load-more report-response-load">Generating Report...</div>
							<span ng-if="(!reportDataLoading && reportDataNotFound)" class="no-data-common" ng-bind-html="getMessageForDataNotAvailable()"></span>
							<div class="each_row reportData {{showhasBreakdown}}"  data-result-row='{{customeReportData.idx}}' ng-repeat="customeReportData in metricValues.first_dimension.delivery_metrics track by $index" ><!-- add active when the next dimension is open --><!-- add hasBreakdown when the next dimension is available -->
								<div ng-include="'customeReportTpl'" class="heading_first_dimension"></div>
								<!-- second dimension div-->
								<div ng-show='secondDimensionReportLoading["delivery_metrics"][customeReportData.idx]' class="common-load-more"></div>
								<div class="clearfix second_dimension_row_holder">
									<div ng-if='!secondDimensionReportLoading["delivery_metrics"][customeReportData.idx] && metricValues.second_dimension[customeReportData.idx].delivery_metrics.length >0'>
										<div class="second_dimension_row"  ng-repeat="customeReportData in metricValues.second_dimension[customeReportData.idx].delivery_metrics track by $index"  ng-include="'customeReportTpl'" ></div>
										<!-- load more for second dimension -->
										<span class="sec_dimension_load_more" ng-click="fetchMoreSecondDimensionData($event)" style="display:none;" >
											<a href="javascript:void(0);" >Load more</a>
										</span>
									</div>
									<span ng-if="secondDimensionReportDataNotFound['delivery_metrics'][customeReportData.idx]" class="no-data-common" ng-bind-html="getMessageForDataNotAvailable()"></span>
									<!-- end of load more for second dimension -->
								</div>
								<!-- end of second dimension div-->
							</div>
						</div>

					</div>
					<div ng-if="fetching" class="common-load-more"></div>
				</div>
				<div class="custom_report_response_table" id="booked_table" style="display:none;">
					<div class="custom_report_scroll">
						<div class="each_row heading_row">
							<div class="inner_heading_row">
								<div class="each_col tree_dimension_col">{{reportTitle}}</div>
								<div class="each_col" ng-repeat="bm in metricKeyArr.booked_metrics track by $index">
									{{bm.value}}
								</div>
							</div>
						</div>
						<div class="clearfix first_dimension_row_holder">
							<div ng-if="reportDataLoading" class="common-load-more report-response-load">Generating Report...</div>
							<span ng-if="(!reportDataLoading && reportDataNotFound)" class="no-data-common" ng-bind-html="getMessageForDataNotAvailable()"></span>
							<div class="each_row reportData {{showhasBreakdown}}" data-result-row='{{customeReportData.idx}}' ng-repeat="customeReportData in metricValues.first_dimension.booked_metrics track by $index">
								<div ng-include="'customeReportTpl'" class="heading_first_dimension"></div>
								<!-- second dimension div-->
								<div ng-show='secondDimensionReportLoading["booked_metrics"][customeReportData.idx]' class="common-load-more"></div>
								<div class="clearfix second_dimension_row_holder">
									<div ng-if="!secondDimensionReportLoading['booked_metrics'][customeReportData.idx] && metricValues.second_dimension[customeReportData.idx].booked_metrics.length > 0">
										<div class="second_dimension_row"  ng-repeat="customeReportData in metricValues.second_dimension[customeReportData.idx].booked_metrics track by $index"  ng-include="'customeReportTpl'" ></div>
										<!-- load more for second dimension -->
										<span class="sec_dimension_load_more"  style="display:none;">
											<a href="javascript:void(0);" >Load more</a>
										</span>
									</div>
									<span ng-if="secondDimensionReportDataNotFound['booked_metrics'][customeReportData.idx]" class="no-data-common" ng-bind-html="getMessageForDataNotAvailable()"></span>
									<!-- end of load more for second dimension -->
								</div>
								<!-- end of second dimension div-->
							</div>
						</div>
					</div>
					<div ng-if="fetching" class="common-load-more"></div>
				</div>
				<div class="custom_report_response_table" id="engagement_table" style="display:none;">
					<div class="custom_report_scroll">
						<div class="each_row heading_row">
							<div class="inner_heading_row">
								<div class="each_col tree_dimension_col">{{reportTitle}}</div>
								<div class="each_col" ng-repeat="em in metricKeyArr.engagement_metrics track by $index">
									{{em.value}}
								</div>
							</div>
						</div>
						<div class="clearfix first_dimension_row_holder">
							<div ng-if="reportDataLoading" class="common-load-more report-response-load">Generating Report...</div>
							<span ng-if="(!reportDataLoading && reportDataNotFound)" class="no-data-common" ng-bind-html="getMessageForDataNotAvailable()"></span>
							<div class="each_row reportData {{showhasBreakdown}}" data-result-row='{{customeReportData.idx}}' ng-repeat="customeReportData in metricValues.first_dimension.engagement_metrics track by $index">
								<div ng-include="'customeReportTpl'" class="heading_first_dimension"></div>
								<!-- second dimension div-->
								<div ng-show='secondDimensionReportLoading["engagement_metrics"][customeReportData.idx]' class="common-load-more"></div>
								<div class="clearfix second_dimension_row_holder">
									<div ng-if="!secondDimensionReportLoading['engagement_metrics'][customeReportData.idx] && metricValues.second_dimension[customeReportData.idx].engagement_metrics.length >0">
										<div class="second_dimension_row"  ng-repeat="customeReportData in metricValues.second_dimension[customeReportData.idx].engagement_metrics track by $index"  ng-include="'customeReportTpl'" ></div>
										<!-- load more for second dimension -->
										<span class="sec_dimension_load_more"  style="display:none;">
											<a href="javascript:void(0);" >Load more</a>
										</span>
									</div>
									<span ng-if="secondDimensionReportDataNotFound['engagement_metrics'][customeReportData.idx]" class="no-data-common" ng-bind-html="getMessageForDataNotAvailable()"></span>
									<!-- end of load more for second dimension -->
								</div>
								<!-- end of second dimension div-->
							</div>
						</div>
					</div>
					<div ng-if="fetching" class="common-load-more"></div>
				</div>
				<div class="custom_report_response_table" id="video_table" style="display:none;">
					<div class="custom_report_scroll">
						<div class="each_row heading_row">
							<div class="inner_heading_row">
								<div class="each_col tree_dimension_col">{{reportTitle}}</div>
								<div class="each_col" ng-repeat="vm in metricKeyArr.video_metrics track by $index">
									{{vm.value}}
								</div>
							</div>
						</div>
						<div class="clearfix first_dimension_row_holder">
							<div ng-if="reportDataLoading" class="common-load-more report-response-load">Generating Report...</div>
							<span ng-if="(!reportDataLoading && reportDataNotFound)" class="no-data-common" ng-bind-html="getMessageForDataNotAvailable()"></span>
							<div class="each_row reportData {{showhasBreakdown}}" data-result-row='{{customeReportData.idx}}' ng-repeat="customeReportData in metricValues.first_dimension.video_metrics track by $index">
								<div ng-include="'customeReportTpl'" class="heading_first_dimension"></div>
								<!-- second dimension div-->
								<div ng-show='secondDimensionReportLoading["video_metrics"][customeReportData.idx]' class="common-load-more"></div>
								<div class="clearfix second_dimension_row_holder">
									<div ng-if="!secondDimensionReportLoading['video_metrics'][customeReportData.idx] && metricValues.second_dimension[customeReportData.idx].video_metrics.length >0">
										<div class="second_dimension_row"  ng-repeat="customeReportData in metricValues.second_dimension[customeReportData.idx].video_metrics track by $index"  ng-include="'customeReportTpl'" ></div>
										<!-- load more for second dimension -->
										<span class="sec_dimension_load_more"  style="display:none;">
											<a href="javascript:void(0);" >Load more</a>
										</span>
									</div>
									<span ng-if="secondDimensionReportDataNotFound['video_metrics'][customeReportData.idx]" class="no-data-common" ng-bind-html="getMessageForDataNotAvailable()"></span>
									<!-- end of load more for second dimension -->
								</div>
								<!-- end of second dimension div-->
							</div>
						</div>
					</div>
					<div ng-if="fetching" class="common-load-more"></div>
				</div>
				<div class="custom_report_response_table" id="display_quality_table" style="display:none;">
					<div class="custom_report_scroll">
						<div class="each_row heading_row">
							<div class="inner_heading_row">
								<div class="each_col tree_dimension_col">{{reportTitle}}</div>
								<div class="each_col" ng-repeat="vm in metricKeyArr.display_quality_metrics track by $index">
									{{vm.value}}
								</div>
							</div>
						</div>
						<div class="clearfix first_dimension_row_holder">
							<div ng-if="reportDataLoading" class="common-load-more report-response-load">Generating Report...</div>
							<span ng-if="(!reportDataLoading && reportDataNotFound)" class="no-data-common" ng-bind-html="getMessageForDataNotAvailable()"></span>
							<div class="each_row reportData {{showhasBreakdown}}" data-result-row='{{customeReportData.idx}}' ng-repeat="customeReportData in metricValues.first_dimension.display_quality_metrics track by $index">
								<div ng-include="'customeReportTpl'" class="heading_first_dimension"></div>
								<!-- second dimension div-->
								<div ng-show='secondDimensionReportLoading["display_quality_metrics"][customeReportData.idx]' class="common-load-more"></div>
								<div class="clearfix second_dimension_row_holder">
									<div ng-if="!secondDimensionReportLoading['display_quality_metrics'][customeReportData.idx] && metricValues.second_dimension[customeReportData.idx].display_quality_metrics.length >0">
										<div class="second_dimension_row"  ng-repeat="customeReportData in metricValues.second_dimension[customeReportData.idx].display_quality_metrics	 track by $index"  ng-include="'customeReportTpl'" ></div>
										<!-- load more for second dimension -->
										<span class="sec_dimension_load_more"  style="display:none;">
											<a href="javascript:void(0);" >Load more</a>
										</span>
									</div>
									<span ng-if="secondDimensionReportDataNotFound['display_quality_metrics'][customeReportData.idx]" class="no-data-common" ng-bind-html="getMessageForDataNotAvailable()"></span>
									<!-- end of load more for second dimension -->
								</div>
								<!-- end of second dimension div-->
							</div>
						</div>
					</div>
					<div ng-if="fetching" class="common-load-more"></div>
				</div>

				<div class="custom_report_response_table" id="video_quality_table" style="display:none;">
					<div class="custom_report_scroll">
						<div class="each_row heading_row">
							<div class="inner_heading_row">
								<div class="each_col tree_dimension_col">{{reportTitle}}</div>
								<div class="each_col" ng-repeat="vm in metricKeyArr.video_quality_metrics track by $index">
									{{vm.value}}
								</div>
							</div>
						</div>
						<div class="clearfix first_dimension_row_holder">
							<div ng-if="reportDataLoading" class="common-load-more report-response-load">Generating Report...</div>
							<span ng-if="(!reportDataLoading && reportDataNotFound)" class="no-data-common" ng-bind-html="getMessageForDataNotAvailable()"></span>
							<div class="each_row reportData {{showhasBreakdown}}" data-result-row='{{customeReportData.idx}}' ng-repeat="customeReportData in metricValues.first_dimension.video_quality_metrics track by $index">
								<div ng-include="'customeReportTpl'" class="heading_first_dimension"></div>
								<!-- second dimension div-->
								<div ng-show='secondDimensionReportLoading["video_quality_metrics"][customeReportData.idx]' class="common-load-more"></div>
								<div class="clearfix second_dimension_row_holder">
									<div ng-if="!secondDimensionReportLoading['video_quality_metrics'][customeReportData.idx] && metricValues.second_dimension[customeReportData.idx].video_quality_metrics.length >0">
										<div class="second_dimension_row"  ng-repeat="customeReportData in metricValues.second_dimension[customeReportData.idx].video_quality_metrics track by $index"  ng-include="'customeReportTpl'" ></div>
										<!-- load more for second dimension -->
										<span class="sec_dimension_load_more"  style="display:none;">
											<a href="javascript:void(0);" >Load more</a>
										</span>
									</div>
									<span ng-if="secondDimensionReportDataNotFound['video_quality_metrics'][customeReportData.idx]" class="no-data-common" ng-bind-html="getMessageForDataNotAvailable()"></span>
									<!-- end of load more for second dimension -->
								</div>
								<!-- end of second dimension div-->
							</div>
						</div>
					</div>
					<div ng-if="fetching" class="common-load-more"></div>
				</div>
			</div>

		</div>
	</div>
	<!-- End of Custom Report Response Page -->
</div>

<script type="text/ng-template" id="customeReportTpl">

	<div class="each_col {{customeReportData.level === 'first_dimension'?  'more_dimension_arrow' : 'tree_string'}}" ng-click="showDataForClikedDimension($event, customeReportData.value); $event.stopPropagation();" ></div>

	<!---- Dimension report data ------------------------>
	<div class="each_col tree_dimension_col {{customeReportData.level === 'first_dimension'?  'more_dimension_col' : ' '}}" ng-click="showDataForClikedDimension($event, customeReportData.value); $event.stopPropagation();" ng-if="customeReportData.value">{{customeReportData.value}}</div>

	<!----- Delivery report data ------------------------>
	<div class="each_col" ng-if="customeReportData.impressions >=0">{{customeReportData.impressions |  nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.clicks >=0">{{customeReportData.clicks |  nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.ctr >=0">{{customeReportData.ctr*100 | kpiFormatter:'ctr'}}</div>
	<div class="each_col" ng-if="customeReportData.post_imp >=0">{{customeReportData.post_imp |  nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.post_click >=0">{{customeReportData.post_click |  nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.pccr >=0">{{customeReportData.pccr  | number:2 }}</div>
	<div class="each_col" ng-if="customeReportData.actions >=0">{{customeReportData.actions |  nrFormat }}</div>
	<div class="each_col" ng-if="customeReportData.pub_payout >=0">{{customeReportData.pub_payout |  nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.gross_ecpm >=0">{{customeReportData.gross_ecpm | number:2}}</div>
	<div class="each_col" ng-if="customeReportData.gross_ecpc >=0">{{customeReportData.gross_ecpc | number:2}}</div>

	<!----- booked report data ------------------------
	<div class="each_col" ng-if="customeReportData.ad_count >=0">{{customeReportData.ad_count}}</div>
	<div class="each_col" ng-if="customeReportData.ad_start">{{customeReportData.ad_start}}</div>
	<div class="each_col" ng-if="customeReportData.ad_end">{{customeReportData.ad_end}}</div>
	<div class="each_col" ng-if="customeReportData.ad_days >=0">{{customeReportData.ad_days}}</div>
	<div class="each_col" ng-if="customeReportData.booked_impressions >=0">{{customeReportData.booked_impressions |  nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.booked_actual_imps >=0">{{customeReportData.booked_actual_imps |  nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.diff_impressions >=0">{{customeReportData.diff_impressions |  nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.delivered_imps >=0">{{customeReportData.delivered_imps |  nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.booked_rev >=0">{{customeReportData.booked_rev |  nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.gross_rev >=0">{{customeReportData.gross_rev |  nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.diff_rev >=0">{{customeReportData.diff_rev |  nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.booked_ecpm >=0">{{customeReportData.booked_ecpm | number:2}}</div>
	<div class="each_col" ng-if="customeReportData.actual_ecpm >=0">{{customeReportData.actual_ecpm | number:2}}</div>
	<div class="each_col" ng-if="customeReportData.booked_diff_ecpm >=0">{{customeReportData.booked_diff_ecpm | number:2}}</div> --->

	<!----- engagement report data ------------------------>

	<div class="each_col" ng-if="customeReportData.inter >=0">{{customeReportData.inter |  nrFormat }}</div>
	<div class="each_col" ng-if="customeReportData.avg_inter_time >=0">{{customeReportData.avg_inter_time |  nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.ir_perc >=0">{{customeReportData.ir_perc | number:2}}</div>
	<div class="each_col" ng-if="customeReportData.avg_view_time >=0">{{customeReportData.avg_view_time |  nrFormat}}</div>

	<!----- video report data ------------------------>
	<div class="each_col" ng-if="customeReportData.ad_starts >=0">{{customeReportData.ad_starts |  nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.completion_25 >=0">{{customeReportData.completion_25 | nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.completion_50 >=0">{{customeReportData.completion_50 | nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.completion_75 >=0">{{customeReportData.completion_75 | nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.completion_100 >=0">{{customeReportData.completion_100 | nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.completion_rate >=0">{{customeReportData.completion_rate | number:2}}</div>
	<div class="each_col" ng-if="customeReportData.video_full_screen >=0">{{customeReportData.video_full_screen | nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.mutes >=0">{{customeReportData.mutes | nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.pauses >=0">{{customeReportData.pauses | nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.vast_redirect_errors >=0">{{customeReportData.vast_redirect_errors | nrFormat}}</div>

	<!----- Quality Display report data ------------------------>
	<div class="each_col" ng-if="customeReportData.display_delivered_imps >=0">{{customeReportData.display_delivered_imps |  nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.display_measurable_imps >=0">{{customeReportData.display_measurable_imps | nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.display_measurable_perc >=0">{{customeReportData.display_measurable_perc | number:0}}%</div>
	<div class="each_col" ng-if="customeReportData.display_viewable_imps >=0">{{customeReportData.display_viewable_imps | nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.display_viewable_perc >=0">{{customeReportData.display_viewable_perc | number:0}}%</div>
	<div class="each_col" ng-if="customeReportData.display_viewable_imps_5s >=0">{{customeReportData.display_viewable_imps_5s |  nrFormat }}%</div>
	<div class="each_col" ng-if="customeReportData.display_viewable_imps_15s >=0">{{customeReportData.display_viewable_imps_15s |  nrFormat}}%</div>
	<div class="each_col" ng-if="customeReportData.display_suspicious_imps >=0">{{customeReportData.display_suspicious_imps |  nrFormat}}%</div>
	<div class="each_col" ng-if="customeReportData.display_suspicious_act_perc >=0">{{customeReportData.display_suspicious_act_perc | number:2}}</div>

	<!----- Quality Video report data ------------------------>
	<div class="each_col" ng-if="customeReportData.video_delivered_imps >=0">{{customeReportData.video_delivered_imps |  nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.video_measurable_imps >=0">{{customeReportData.video_measurable_imps | nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.video_measurable_perc >=0">{{customeReportData.video_measurable_perc | number:0}}</div>
	<div class="each_col" ng-if="customeReportData.video_viewable_imps >=0">{{customeReportData.video_viewable_imps | nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.video_viewable_perc >=0">{{customeReportData.video_viewable_perc | number:0}}</div>
	<div class="each_col" ng-if="customeReportData.video_video_viewable_25 >=0">{{customeReportData.video_video_viewable_25 |  nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.video_video_viewable_50 >=0">{{customeReportData.video_video_viewable_50 |  nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.video_video_viewable_75 >=0">{{customeReportData.video_video_viewable_75 |  nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.video_video_viewable_100 >=0">{{customeReportData.video_video_viewable_100 | nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.video_suspicious_imps >=0">{{customeReportData.video_suspicious_imps |  nrFormat}}</div>
	<div class="each_col" ng-if="customeReportData.video_suspicious_act_perc >=0">{{customeReportData.video_suspicious_act_perc | number:2}}</div>
</script>
