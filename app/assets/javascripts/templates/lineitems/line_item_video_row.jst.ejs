<div class="dropdown">
  <div class="li-commands-btn pull-left" title="Create Ad" id="adTypeDropdown" data-toggle="dropdown">
  </div>
  <ul class="dropdown-menu types-dropdown" role="menu" aria-labelledby="adTypeDropdown">
    <li role="presentation"><a class="li-add-ad-btn" role="menuitem" tabindex="-1" href="javascript:void(0)" data-type="Video">Create Video Ad</a></li>
    <li role="presentation"><a class="li-add-ad-btn" role="menuitem" tabindex="-1" href="javascript:void(0)" data-type="Companion">Create Companion Ad</a></li>
  </ul>
</div>

<div class="pure-u-1-12 li-number <%= lineitem.active === true ? 'active':'inactive' %>">
<span>Contract LI<br/><%= lineitem.alt_ad_id || lineitem.itemIndex %></span></div>

<% wrong_start_date = !lineitem.order_id && moment(ReachUI.currentTimeWithOffset("-5h")).format("YYYY-MM-DD") > lineitem.start_date %>
<div class="pure-u-1-12 start-date<% if (wrong_start_date) { %> field_with_errors<% } %>">
  <span class="editable custom" data-type="date" data-name="start_date" data-date-format="yyyy-mm-dd" data-pk="1">
    <%= lineitem.start_date %>
  </span>
  <div class="errors_container">
    <% if (wrong_start_date) { %>
    Start date cannot be in the past
    <% } %>
  </div>
</div>

<% wrong_end_date = !lineitem.order_id && moment(ReachUI.currentTimeWithOffset("-5h")).format("YYYY-MM-DD") > lineitem.end_date %>
<div class="pure-u-1-12 end-date<% if (wrong_end_date) { %> field_with_errors<% } %>">
  <span class="editable custom" data-type="date" data-name="end_date" data-date-format="yyyy-mm-dd" data-pk="1">
    <%= lineitem.end_date %>
  </span>
  <div class="errors_container">
    <% if (wrong_end_date) { %>
    End date cannot be in the past
    <% } %>
  </div>
</div>

<div class="pure-u-1-6 li-sizes">
  <span><span class="video-icon pull-left"></span><span class="ads-sizes">Pre-roll
    <% if (lineitem.companion_ad_size) { %>
    with Companion
    <% } %>
  </span></span><br/>
  <span class="size">
    <span class="editable custom typeahead" data-type="typeahead" data-name="master_ad_size" data-pk="1">
      <%= lineitem.master_ad_size.replace(/,/gi, ', ') %>
    </span>
  </span>
  <span class="lineitem-sizes">
    <span class="editable editable-click" data-type="select2" data-name="companion_ad_size" data-pk="1">
      <% if (lineitem.companion_ad_size) { %>
        <%= lineitem.companion_ad_size.replace(/,/gi, ', ') %>
      <% } %>
    </span>
  </span>
  <div class="errors_container"></div>
  <br/>
  <span class="toggle-creatives-btn operation"><span class="pencil-icon"></span>Edit Creatives (<%= lineitem.creatives.length %>)</span>
</div>

<div class="pure-u-1-3 name">
  <span class="editable" data-type="text" data-name="name" data-pk="1" data-inputclass="wide-editable-text">
    <%= lineitem.name %>
  </span>
  <div class="errors_container" style="clear:both">
    <% if(lineitem.name.length > 500) { %>
    Lineitem name should be less than 500 characters
    <% } %>
  </div>
  <br/>
  <span class="toggle-targeting-btn operation">+ Add Targeting</span>
  <div class="targeting_options_condensed" style="clear:both"></div>
</div>
  
<div class="pure-u-1-12 volume number-field">
  <span class="editable custom" data-type="text" data-name="volume" data-pk="1">
    <%= accounting.formatNumber(lineitem.volume) %>
  </span>
  <div class="errors_container"></div>
</div>
<div class="pure-u-1-12 rate number-field">
  $<span class="editable custom" data-type="text" data-name="rate" data-pk="1">
    <%= accounting.formatMoney(lineitem.rate, '') %>
  </span>
  <div class="errors_container"></div>
</div>

<div class="pure-u-1-12 media-cost number-field">
  <span class="number-value">
    $<span><%= accounting.formatMoney(lineitem.value, '') %></span>
  </span>
  <div class="errors_container"></div>
</div>
<div style="clear:both"></div>

<div class="targeting-container" style="display:none"></div>
<div style="clear:both"></div>

<div class="creatives-list-view" style="display:none"></div>
<div style="clear:both"></div>

<div class="ads-container"></div>
