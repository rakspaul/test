<popup-msg data-ng-show="flashMessage"
           data-ng-controller="popUpMsgCtr"
           data-ng-init="init('flashMessage')">
</popup-msg>

<div class="report_generator_and_response">
    <div class="report_builder_container">
        <div class="col-md-12" id="dynamicHeader" style="padding: 30px 0 0;">
            <!-- this will be hidden until fold happens -->
            <a class="collapseIcon iconPlusMinus"
               role="button"
               id="{{$index+ 1}}"
               href=""
               style="margin: 0 10px 30px 0;">
                <span class="icon-plus" data-ng-click="ToggleAdGroups(this)"></span>
            </a>
            <h1 class="pull-left zeroMargin"
                data-ng-bind="textConstants.REPORT_BUILDER + ' ' + reports.name + ' | ' +
                    reports.reportDefinition.timeframe.start_date + ' - ' +
                    reports.reportDefinition.timeframe.end_date">
            </h1>

            <!-- this will be hidden after fold-->
            <h6 class="heading subTitle pull-left clearLeft"
                data-ng-bind-html="textConstants.REPORT_BUILDER_SUBTITLE"></h6>

            <!-- his will be hidden until fold happens -->
            <span class="heading downReport pull-right">
                <span class="icon-download zeroPadding pull-left" style="margin-right:9px;"></span>
                <a data-ng-click="downloadCreateRepBuilder()" class="pull-left">Download Report</a>
            </span>
        </div>
        <div style="text-align:center;">
            <span class="download-report-load-icon"
                  style="margin:5px 0;"
                  data-ng-if="reportDownloadBusy"
                  data-ng-bind-html="textConstants.DOWNLOADING">
            </span>
        </div>
        <div class="col-md-12 zeroPadding" id="reportBuilderForm">
            <!--Row 1-->
            <div class="col-md-12 zeroPadding reportRowForm">
                <!--Dimensions-->
                <div class="col-md-4 zeroPadding">
                    <span class="col-md-6 greyTxt" data-ng-bind-html="textConstants.SELECT_DIMENTION"></span>
                    <span class="col-md-6 greyTxt"
                          data-ng-show="showPrimaryTxtBox"
                          style="margin-left: -27px;"
                          data-ng-bind-html="textConstants.ADD_KEYWORDS">
                    </span>
                    <div class="col-md-12 zeroPadding dimensionKeywordSection">
                        <div class="clearfix breakdown_div dimension_block">
                            <div class="pull-left custom_report_filter custom_report_breakdown">
                                <div class="common_dropdown">
                                    <div class="dropdown">
                                        <div class="dropdown_ul_text clearfix"
                                             data-toggle="dropdown"
                                             title="{{reports.reportDefinition.dimensions.primary.name ?
                                                  reports.reportDefinition.dimensions.primary.name :
                                                  textConstants.REPORT_CHOOSE_BREAKDOWN}}">
                                            <span class="dd_txt"
                                                  data-template_id="{{showDefaultDimension.template_id}}"
                                                  id="{{showDefaultDimension.key}}"
                                                  data-ng-bind-html="reports.reportDefinition.dimensions.primary.name ?
                                                      reports.reportDefinition.dimensions.primary.name :
                                                      textConstants.REPORT_CHOOSE_BREAKDOWN | textEllipsis : 16">
                                            </span>
                                            <span class="icon-arrow-solid-down"></span>
                                        </div>
                                        <ul class="dropdown-menu"
                                            data-ng-click="enable_generate_btn();"
                                            style="min-width: 200px;">
                                            <li data-ng-click="select_dropdown_option($event,'primary');showPrimaryTxtBox=false"
                                                data-ng-bind-html="textConstants.REPORT_CHOOSE_BREAKDOWN"
                                                data-toggle="dropdown">
                                            </li>
                                            <li data-ng-repeat="dimension in customeDimensionData[0].dimensions"
                                                id="{{dimension}}"
                                                data-ng-click="selectPriSecDimension(dimension, 'Primary')"
                                                data-ng-if="checkDimension(dimension)"
                                                data-ng-bind-html="displayName[dimension]"
                                                data-toggle="dropdown">
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <div class="pull-left filter_input_txtbox" data-ng-show="showPrimaryTxtBox">
                                <input type="text"
                                       name="filter"
                                       class="reportFilter"
                                       data-ng-model="reports.reportDefinition.dimensions.primary.value"
                                       data-reportType="Primary"
                                       autofocus
                                       placeholder="Contains keywords...">
                            </div>
                        </div>

                        <!-- Second Dimension start -->
                        <div id="breakdown_row" data-ng-show="showSecondDimensionBlock">
                            <div class="clearfix title_row_separator breakdown_div">
                                <div class="pull-left custom_report_filter custom_report_breakdown">
                                    <div class="common_dropdown">
                                        <div class="dropdown">
                                            <div class="dropdown_ul_text clearfix"
                                                 data-toggle="dropdown"
                                                 title="{{reports.reportDefinition.dimensions.secondary.name ?
                                                      reports.reportDefinition.dimensions.secondary.name :
                                                      textConstants.REPORT_CHOOSE_BREAKDOWN}}">
                                                <span class="dd_txt"
                                                      data-template_id="{{showDefaultDimension.template_id}}"
                                                      id="{{showDefaultDimension.key}}"
                                                      data-ng-bind-html=
                                                          "reports.reportDefinition.dimensions.secondary.name ?
                                                              reports.reportDefinition.dimensions.secondary.name :
                                                              textConstants.REPORT_CHOOSE_BREAKDOWN | textEllipsis : 16">
                                                </span>
                                                <span class="icon-arrow-solid-down"></span>
                                            </div>
                                            <ul class="dropdown-menu">
                                                <li data-ng-click="select_dropdown_option($event,'secondary')"
                                                    data-ng-bind-html="textConstants.REPORT_CHOOSE_BREAKDOWN"
                                                    data-toggle="dropdown">
                                                </li>
                                                <li data-ng-repeat="dimension in secondaryDimensionArr "
                                                    id="{{dimension}}"
                                                    data-ng-click="selectPriSecDimension(dimension, 'Secondary')"
                                                    data-ng-bind-html="displayName[dimension]"
                                                    data-toggle="dropdown">
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="pull-left filter_input_txtbox" data-ng-show="showSecondaryTxtBox">
                                    <input type="text"
                                           name="filter"
                                           class="reportFilter"
                                           data-ng-model='reports.reportDefinition.dimensions.secondary.value'
                                           data-reportType="Secondary"
                                           autofocus
                                           placeholder="Contains keywords...">
                                </div>
                                <div class="pull-left delete_row" data-ng-click="deleteSecondDimensionBlock();"></div>
                            </div>
                        </div>

                        <!-- Second Dimension end -->
                        <div class="row" data-ng-show="showAddBreakdownButton">
                            <div class="add_breakdown_line"></div>
                            <div class="clearfix add_breakdown_btn">
                                <div class="pull-left add_circle_symbol" data-ng-click="showSecondDimension()"></div>
                                <div class="pull-left"
                                     data-ng-click="showSecondDimension()"
                                     data-ng-bind-html="textConstants.ADD_BREAKDOWN_LABEL">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--Ends Dimensions-->

                <!-- Additional Filters -->
                <div class="col-md-4">
                    <div class="col-md-12 zeroPadding">
                        <span class="col-md-12 greyTxt"
                              data-ng-bind-html="textConstants.REPORT_ADDITIONAL_FILTERS">
                        </span>
                        <div class="additional_filters_holder">
                            <div id="filter_breakdown_row" class="filter_row"
                                 data-ng-repeat="addFilts in additionalFilters track by $index"
                                 data-ng-init="filterIndex=$index">
                                <!-- sapna -->
                                <div class="clearfix custom_filter_breakdown breakdown_div">
                                    <div class="pull-left custom_filter_dropdown custom_report_breakdown">
                                        <div class="common_dropdown">
                                            <div class="dropdown">
                                                <div class="dropdown_ul_text clearfix" data-toggle="dropdown">
                                                    <span class="dd_txt"
                                                          data-ng-bind-html="addFilts.name ?
                                                              addFilts.name :
                                                              textConstants.CHOOSE_FILTER | textEllipsis : 15">
                                                    </span>
                                                    <span class="icon-arrow-solid-down"></span>
                                                </div>
                                                <ul class="dropdown-menu" style="min-width: 200px;">
                                                    <div class="dropdown_autoselect_box">
                                                        <input data-ng-click="addSearch($event)"
                                                               type="text"
                                                               data-ng-model="dimensionQuery"
                                                               placeHolder="Search">
                                                    </div>
                                                    <li data-ng-repeat="filters in filterList | filter:{'name':dimensionQuery}"
                                                        id="{{filters}}"
                                                        data-ng-click="onChoosingAditFlts(filterIndex, filters.key);"
                                                        data-ng-model="addFilts.key"
                                                        data-ng-bind-html="filters.name"
                                                        data-ng-if="checkDimension(filters.key)"
                                                        data-toggle="dropdown">
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>

                                    <!--   Auto suggestion filter text box start -->
                                    <div class="pull-left filter_input_txtbox">
                                        <div class="filter_input_dropdown" data-ng-hide="addFilts.hide" >
                                            <div class="common_dropdown">
                                                <div class="dropdown">
                                                    <div class="dropdown_autoselect_box">
                                                        <input data-ng-click="hideVisibleDropdown($event);
                                                                              filterAutoCompletion.onSelectingDropdown(addFilts.key,additionalFilters[filterIndex].value)
                                                                             "
                                                               type="text" data-ng-model="additionalFilters[filterIndex].value"
                                                               class="autofillInputElem" ng-blur="filterAutoCompletion.checkForAutoFltrMatch(filterIndex)"
                                                               ng-keyup="filterAutoCompletion.fetchFilterAutoSugtn($event,addFilts.key,additionalFilters[filterIndex].value,false,filterIndex)"
                                                               placeholder="Type here..."
                                                        >
                                                    </div>
                                                    <ul class="dropdown-menu autofill-dropdown"
                                                        lr-infinite-scroll="filterAutoCompletion.loadMoreData"
                                                        style="min-width: 200px;display:none;">
                                                        <div class="common-loading-area" ng-if="(!(filtersAutoComplArr.length > 0)&& (!filtersAutoComplArr.dataNotFound))"></div>
                                                        <div class="no_data_found marginBottom" style="margin-top:10px;" ng-if="filtersAutoComplArr.dataNotFound">No Data Found</div>

                                                        <li data-ng-repeat="filterAutoSug in filtersAutoComplArr"
                                                            id="{{filterAutoSug}}"
                                                            data-ng-click="onChoosingAditFltValue( $event, filterIndex, filterAutoSug, addFilts.key, additionalFilters[filterIndex].value)"
                                                            data-ng-model="addFilts.key"
                                                            data-ng-bind-html="filterAutoSug.id?(filterAutoSug.name)+' ('+filterAutoSug.id+')':filterAutoSug.name"
                                                            data-toggle="dropdown">
                                                        </li>
                                                        <li class="common-loading-area" data-ng-show="(filtersAutoComplArr.length) && (filtersAutoComplArr.length > 100)"></li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--   Auto suggestion filter text box end -->

                                    <div class="pull-left delete_row" data-ng-click="delAditFlt($index);"></div>
                                </div>
                                <!-- sapna -->
                            </div>
                            <div class="clearfix title_row_separator">
                                <div class="pull-left additional_filters_label">
                                    <div class="pull-left add_circle_symbol"
                                         data-ng-click="addAdditionalFilters()">
                                    </div>
                                    <div data-ng-click="addAdditionalFilters()"
                                         class="pull-left blue_txt"
                                         data-ng-bind-html="textConstants.REPORT_ADD_FILTERS">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- End Additional Filters -->

                <!-- Timeframe -->
                <div class="col-md-4 zeroPadding customDatesTimeframe">
                    <div class="col-md-12 greyTxt" data-ng-bind-html="textConstants.REPORT_BUILDER_TIMEFRAME"></div>
                    <div class="pull-left timeframe_selector">
                        <div class="common_dropdown">
                            <div class="dropdown">
                                <span class="dropdown_ul_text clearfix" data-toggle="dropdown">
                                    <span class="dd_txt"
                                          id="date-selected-txt"
                                          data-ng-bind-html="reports.reportDefinition.timeframe.type ?
                                              reports.reportDefinition.timeframe.type : textConstants.YESTERDAY">
                                    </span>
                                    <span class="icon-arrow-solid-down"></span>
                                </span>
                                <ul class="dropdown-menu">
                                    <li data-ng-model="reports.reportDefinition.timeframe.type"
                                        data-ng-repeat="timeframe in textConstants.REPORT_BUILDER_TIMEFRAME_LIST"
                                        data-ng-click="reports.reportDefinition.timeframe.type = timeframe;
                                            select_dropdown_option($event, timeframe)"
                                        data-ng-bind-html="timeframe"
                                        data-toggle="dropdown">
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="date pull-right input-daterange" style="position: relative;">
                        <div class="col-md-12 dateWrapper">
                            <div class="pull-left" style="width: 115px;">
                                <input type="text"
                                       style="background: transparent;"
                                       id="startDateInput"
                                       class="input-sm form-control timeframe"
                                       data-ng-model="reports.reportDefinition.timeframe.start_date"
                                       required>
                                <label data-ng-if="!reports.reportDefinition.timeframe.start_date"
                                       style="display: block"
                                       class="errorLabel"
                                       data-ng-bind="textConstants.SELECT_DATE_LABEL">
                                </label>
                            </div>
                            <div class="pull-left" style="margin-left: 10px; width: 115px;">
                                <input type="text"
                                       style="background: transparent;"
                                       id="endDateInput"
                                       class="input-sm form-control timeframe"
                                       data-ng-model="reports.reportDefinition.timeframe.end_date"
                                       required>
                                <label data-ng-if="!reports.reportDefinition.timeframe.end_date"
                                       style="display: block"
                                       class="errorLabel"
                                       data-ng-bind="textConstants.SELECT_DATE_LABEL">
                                </label>
                            </div>
                        </div>
                        <div class="col-md-12 zeroPadding" style="width: 242px;">
                            <span class="icon-calendar pull-left"
                                  style="padding: 10px 6px;
                                         border-left: 1px solid #BFC9D7;
                                         margin: 0 0 0 86px;
                                         height: 36px;">
                            </span>
                            <span class="icon-calendar pull-left"
                                  style="padding: 10px 6px;
                                         border-left: 1px solid #BFC9D7;
                                         margin: 0 0 0 109px;
                                         height: 36px;">
                            </span>
                        </div>
                    </div>

                    <!-- Data Source start -->

                    <div class="col-md-12 zeroPadding title_row_separator" ng-show="dataSource.showDataSource">
                        <span class="greyTxt">Primary Data Source</span>
                        <div class="" >
                            <div class="common_dropdown">
                                <div class="dropdown">
                                    <span class="dropdown_ul_text clearfix" data-toggle="dropdown">
                                        <span class="dd_txt" data-ng-bind-html="displayName[reports.reportDefinition.dataSource]">
                                        </span>
                                        <span class="icon-arrow-solid-down"></span>
                                    </span>
                                    <ul class="dropdown-menu">
                                        <li data-ng-model="reports.reportDefinition.dataSource"
                                            data-ng-repeat="data_source in dataSource.dataSourceArr"
                                            data-ng-click="reports.reportDefinition.dataSource = data_source"
                                            data-ng-bind-html="displayName[data_source]"
                                            data-toggle="dropdown">
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Data Source end -->


                </div>
                <!-- End Timeframe -->
            </div>
            <!--End Row 1-->

            <!--Selected Metrics-->
            <div class="col-md-12 zeroPadding" style="margin: 20px 0;">
                <div class="col-md-12 zeroPadding metricDataViewHeader">
                    <span class="pull-left greyTxt">Metrics</span>
                    <div class="pull-left clearLeft">
                        <button type="button" class="pull-left btn btn-default" data-ng-click="refreshMetriPopUp()" ng-disabled="!showMetricsButton"><span class="text">Select Metrics</span></button>
                        <span class="pull-left marginLeft marginTop" data-ng-bind="metrics_text"></span>
                    </div>
                </div>

                <!--Metric Data Toggle-->
                <div class="col-md-12 metricDataView">
                    <div class="metricContainer">
                        <!--Header-->
                        <div class="col-md-12 zeroPaddingmetricContainer" style="margin-bottom: 30px;">
                            <h1 class="pull-left" style="margin: 0;">Select Metrics</h1>

                            <input data-ng-click="metrics.selectUnSelectAvailableMetrics()"
                                   type="checkbox"
                                   data-ng-model="allMetrics"
                                   class="pull-left"
                                   id="selectAll_chkbox"
                                   style="margin: 8px 5px 0 30px"
                            >

                            <span class="pull-left" style="margin-top: 5px">Select All Available</span>
                            <div class="pull-left tooltip_holder" style="margin-left: 10px;margin-top: 5px">
                                <span class="tooltip_show_icon"></span>

                                <div class="common_tooltip"
                                     ng-bind="textConstants.REPORT_BUILDER_METRIC_TOOLTIP"></div>
                            </div>
                            <a class="btn btn-default pull-right" data-ng-click="saveMetrics();">Save & Close</a>
                            <a class="btn btn-link pull-right" data-ng-click="cancelMetricView();">Cancel</a>
                        </div>

                        <!--Body-->
                        <div class="col-md-12 zeroPadding">
                            <!--Delivery-->
                            <div class="col-md-2 zeroPadding" data-ng-show="deliveryMetrics.length">
                                <span class="col-md-12 zeroPadding" data-ng-class="{disabled_txt:deliveryMetrics.isDisabled}">
                                    <input type="checkbox"
                                           class="squaredFourChkbox"
                                           id="delivery_chkbox"
                                           data-ng-model="deliveryMetrics.isAllSelected"
                                           data-ng-click="onMetricClick('deliveryMetrics')"
                                           ng-disabled="(deliveryMetrics.isDisabled)">
                                        Delivery
                                </span>
                                <div>
                                  <div data-ng-repeat="delivery_metric in deliveryMetrics track by $index">
                                    <fieldset class="metricData"
                                              relationIds="Delivery"
                                              id="{{delivery_metric.key}}"
                                              data-ng-class="{active: delivery_metric.selected}"
                                              data-ng-click="onMetricClick('deliveryMetrics', $index)"
                                              data-ng-bind-html="delivery_metric.value"
                                              ng-disabled="delivery_metric.isDisabled">
                                    </fieldset>
                                    </div>
                                </div>
                            </div>

                            <!--Pacing-->
                            <div class="col-md-2 zeroPadding" data-ng-show="pacingMetrics.length">
                                <span class="col-md-12 zeroPadding" data-ng-class="{disabled_txt:pacingMetrics.isDisabled}">
                                    <input type="checkbox"
                                           class="squaredFourChkbox"
                                           id="pacing_chkbox"
                                           data-ng-model="pacingMetrics.isAllSelected"
                                           data-ng-click="onMetricClick('pacingMetrics')"
                                           ng-disabled="pacingMetrics.isDisabled">
                                    Pacing
                                </span>
                                <div>
                                  <div data-ng-repeat="pacing_metric in pacingMetrics track by $index">
                                    <fieldset class="metricData"
                                              relationIds='Pacing'
                                              id="{{pacing_metric.key}}"
                                              data-ng-class="{active: pacing_metric.selected}"
                                              data-ng-click="onMetricClick('pacingMetrics', $index)"
                                              data-ng-bind-html="pacing_metric.value"
                                              ng-disabled="pacing_metric.isDisabled">
                                    </fieldset>
                                  </div>
                                </div>
                            </div>

                            <!--Cost-->
                            <div class="col-md-2 zeroPadding" data-ng-show="costMetrics.length">
                                <span class="col-md-12 zeroPadding" data-ng-class="{disabled_txt:costMetrics.isDisabled}">
                                    <input type="checkbox"
                                           class="squaredFourChkbox"
                                           id="cost_chkbox"
                                           data-ng-model="costMetrics.isAllSelected"
                                           data-ng-click="onMetricClick('costMetrics')"
                                           ng-disabled="costMetrics.isDisabled" >
                                        Cost
                                </span>
                                <div>
                                  <div data-ng-repeat="cost_metric in costMetrics track by $index">
                                    <fieldset class="metricData"
                                              relationIds='Cost'
                                              id="{{cost_metric.key}}"
                                              data-ng-class="{active:cost_metric.selected}"
                                              data-ng-click="onMetricClick('costMetrics', $index)"
                                              data-ng-bind-html="cost_metric.value"
                                              ng-disabled="cost_metric.isDisabled">
                                    </fieldset>
                                  </div>
                                </div>
                            </div>

                            <!--Video-->
                            <div class="col-md-2 zeroPadding" data-ng-show="videoMetrics.length">
                                <span class="col-md-12 zeroPadding" data-ng-class="{disabled_txt:videoMetrics.isDisabled}">
                                    <input type="checkbox"
                                           class="squaredFourChkbox"
                                           id="video_chkbox"
                                           data-ng-model="videoMetrics.isAllSelected"
                                           data-ng-click="onMetricClick('videoMetrics')"
                                           ng-disabled="videoMetrics.isDisabled">
                                        Video
                                </span>
                                <div>
                                  <div data-ng-repeat="video_metric in videoMetrics track by $index">
                                    <fieldset class="metricData"
                                              relationIds="Video"
                                              id="{{video_metric.key}}"
                                              data-ng-class="{active:video_metric.selected}"
                                              data-ng-click="onMetricClick('videoMetrics', $index)"
                                              data-ng-bind-html="video_metric.value"
                                              ng-disabled="video_metric.isDisabled">
                                    </fieldset>
                                  </div>
                                </div>
                            </div>

                            <!--Quality-->
                            <div class="col-md-4 zeroPadding" data-ng-show="qualityMetrics.length">
                                <span class="col-md-12 zeroPadding" data-ng-class="{disabled_txt:qualityMetrics.isDisabled}">
                                    <input type="checkbox"
                                           class="squaredFourChkbox"
                                           id="quality_chkbox"
                                           ng-disabled="qualityMetrics.isDisabled"
                                           data-ng-model="qualityMetrics.isAllSelected"
                                           data-ng-click="onMetricClick('qualityMetrics')">
                                        Quality
                                </span>
                                <div>
                                  <div data-ng-repeat="quality_metrics in qualityMetrics track by $index">
                                    <fieldset class="metricData"
                                              relationIds="Quality"
                                              id="{{quality_metrics.key}}"
                                              data-ng-class="{active:quality_metrics.selected}"
                                              data-ng-click="onMetricClick('qualityMetrics', $index)"
                                              data-ng-bind-html="quality_metrics.value"
                                              ng-disabled="quality_metrics.isDisabled">
                                    </fieldset>
                                  </div>
                                </div>
                            </div>
                            <div class="col-md-12 zeroPadding" style="margin: 30px 0 0 0;">
                                <span class="pull-left greyTxt">Imps. = Impressions</span>
                                <span class="pull-left greyTxt"
                                      style="margin-left: 30px;">
                                    *Booked vs. Actual Values
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 3rd Row Save/Schedule -->
            <div class="row create_scheduled_report">
                <div class="col-md-12 zeroPadding each_section_custom_report">
                    <div class="create_report_title">
                        <div class="clearfix scheduled_report_fields">
                            <div class="each-col" id="schedule-btn">
                                <div class="label-txt" data-ng-bind-html="textConstants.SAVE_SCHEDULE"></div>
                                <div class="schedule-on-off-btn">
                                    <input type="checkbox"
                                           data-ng-model="scheduleReportActive"
                                           checked
                                           data-toggle="toggle"
                                           id="toggle"
                                           data-on=" "
                                           data-off=" ">
                                </div>
                            </div>

                            <!-- SAVE/SCHEDULE TOGGELE BUTTON MARK UP -->
                            <div class="each-col default-schedule-col radioBtnToggle">
                                <div class="label-txt">Select Save or Schedule</div>
                                <div class="btn-group miniToggle">
                                    <label class="btn btn-default whitelist"
                                           style="width: auto;"
                                           data-ng-class="reportTypeSelect === 'Save' ? 'active' : ''"
                                           data-ng-click="scheduleReportActive=false">
                                        <span>Save As</span>
                                        <input type="radio"
                                               name="saveSchedule"
                                               group="budgetGroup"
                                               value="Save"
                                               data-ng-click="saveSchedule('Save')"
                                               data-ng-model="reportTypeSelect"
                                               data-ng-checked="reportTypeSelect === 'Save' ? true : false"
                                               hidden="hidden">
                                    </label>
                                    <label class="btn btn-default blacklist"
                                           style="width: auto;"
                                           data-ng-class="reportTypeSelect === 'Schedule As' ? 'active' : ''"
                                           data-ng-click="scheduleReportActive=true">
                                        <span>Schedule As</span>
                                        <input type="radio"
                                               name="saveSchedule"
                                               group="budgetGroup"
                                               data-ng-click="saveSchedule('Schedule As')"
                                               value="Schedule As"
                                               data-ng-model="reportTypeSelect"
                                               data-ng-checked="reportTypeSelect === 'Schedule As' ? true : false"
                                               hidden="hidden"
                                               checked="checked">
                                    </label>
                                </div>
                            </div>
                            <div class="each-col default-schedule-col report-name-col">
                                <div class="label-txt" data-ng-bind="textConstants.REPORT_NAME"></div>
                                <div class="col-md-12 zeroPadding">
                                    <input type="text"
                                           data-ng-model="reports.name"
                                           maxlength="256"
                                           placeholder="Enter a Report Name, no punctuation or special characters.">
                                </div>
                            </div>
                            <div class="each-col default-schedule-col" data-ng-show="reportTypeSelect !== 'Save'">
                                <div class="label-txt" data-ng-bind-html="textConstants.WF_FREQUENCY"></div>
                                <div>
                                    <div class="common_dropdown">
                                        <div class="dropdown">
                                            <span class="dropdown_ul_text clearfix" data-toggle="dropdown">
                                                <span class="dd_txt frequency"
                                                      id="date-selected-txt"
                                                      data-ng-bind-html="reports.schedule.frequency ?
                                                        reports.schedule.frequency : textConstants.SELECT">
                                                </span>
                                                <span class="icon-arrow-solid-down"></span>
                                            </span>
                                            <ul class="dropdown-menu">
                                                <li data-ng-repeat="frequency in textConstants.WF_FREQUENCY_LIST"
                                                    data-ng-model="reports.schedule.frequency"
                                                    data-ng-click="reports.schedule.frequency = frequency;
                                                        select_schedule_option(frequency)"
                                                    data-ng-bind-html="frequency"
                                                    data-toggle="dropdown">
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="each-col scheduling-options schedule-once"
                                 data-ng-show="reportTypeSelect !== 'Save'">
                                <div class="label-txt" data-ng-bind-html="textConstants.SCHEDULE_DELIVER_ON"></div>
                                <div>
                                    <div class="input-daterange input-group date pull-left">
                                        <div class="dateWrapper">
                                            <input type="text"
                                                   id="deliverOn"
                                                   name="scheduleReportStartDate"
                                                   data-ng-model="reports.schedule.startDate"
                                                   class="input-sm form-control timeframe"
                                                   required="">
                                            <i class="icon-calendar glyphicon pull-right"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="each-col scheduling-options schedule-weekly"
                                 data-ng-show="reportTypeSelect !== 'Save'">
                                <div class="label-txt" data-ng-bind-html="textConstants.SCHEDULE_OCCURS_ON"></div>
                                <div>
                                    <div class="common_dropdown">
                                        <div class="dropdown">
                                            <span class="dropdown_ul_text clearfix" data-toggle="dropdown">
                                                <span class="dd_txt"
                                                      id="date-selected-txt"
                                                      data-ng-bind-html="reports.schedule.occurance ?
                                                        reports.schedule.occurance : textConstants.SELECT">
                                                </span>
                                                <span class="icon-arrow-solid-down"></span>
                                            </span>
                                            <ul class="dropdown-menu">
                                                <li data-ng-repeat="week in textConstants.WEEKNAME"
                                                    data-ng-model="reports.schedule.occurance"
                                                    data-ng-click="reports.schedule.occurance = week;
                                                        select_dropdown_option($event);"
                                                    data-ng-bind-html="week" data-toggle="dropdown">
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="each-col scheduling-options schedule-monthly"
                                 data-ng-show="reportTypeSelect !== 'Save'">
                                <div class="label-txt"
                                     data-ng-bind-html="textConstants.SCHEDULE_OCCURS_ON">
                                </div>
                                <div>
                                    <div class="common_dropdown">
                                        <div class="dropdown">
                                            <span class="dropdown_ul_text clearfix" data-toggle="dropdown">
                                                <span class="dd_txt"
                                                      id="date-selected-txt"
                                                      data-ng-bind-html="reports.schedule.occurance ?
                                                        reports.schedule.occurance : textConstants.SELECT">
                                                </span>
                                                <span class="icon-arrow-solid-down"></span>
                                            </span>
                                            <ul class="dropdown-menu">
                                                <li data-ng-repeat="schedule_occur in
                                                        textConstants.SCHEDULE_REPORT_OCCURS_ON_LIST"
                                                    data-ng-model="reports.schedule.occurance"
                                                    data-ng-click="select_schedule_occurs_option($event,
                                                        schedule_occur);"
                                                    data-ng-bind-html="schedule_occur"
                                                    data-toggle="dropdown">
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="each-col scheduling-options schedule-occurs-custom"
                                 data-ng-show="reportTypeSelect !== 'Save'">
                                <div class="label-txt" data-ng-bind-html="textConstants.SELECT_DATE_LABEL"></div>
                                <div>
                                    <div class="common_dropdown">
                                        <div class="dropdown">
                                            <span class="dropdown_ul_text clearfix" data-toggle="dropdown">
                                                <span class="dd_txt"
                                                      id="date-selected-txt"
                                                      data-ng-bind-html="textConstants.SELECT">
                                                </span>
                                                <span class="icon-arrow-solid-down"></span>
                                            </span>
                                            <ul class="dropdown-menu">
                                                <li data-ng-repeat="counter in getNumberDate"
                                                    data-ng-model="reports.schedule.customOccuranceDate"
                                                    data-ng-click="reports.schedule.customOccuranceDate = counter;
                                                        select_dropdown_option($event);"
                                                    data-ng-bind="counter"
                                                    data-toggle="dropdown">
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="each-col scheduling-options schedule-date"
                                 data-ng-show="reportTypeSelect !== 'Save'">
                                <div class="input-daterange-scheduled">
                                    <div class="input-daterange input-group date pull-left">
                                        <div class="dateWrapper" style="width: 258px;">
                                            <div class="pull-left" style="width: 124px;">
                                                <div class="label-txt"
                                                     data-ng-bind-html="textConstants.SCHEDULE_START_DATE_LABEL">
                                                </div>
                                                <div>
                                                    <input type="text"
                                                           id="startOn"
                                                           data-ng-model="reports.schedule.startDate"
                                                           class="input-sm form-control timeframe"
                                                           data-ng-disabled="reports.schedule.frequency === 'Once'"
                                                           required>
                                                    <i class="icon-calendar glyphicon pull-right"></i>
                                                </div>
                                            </div>
                                            <div class="pull-left endScheduledDate" style="width: 124px;">
                                                <div class="label-txt"
                                                     data-ng-bind-html="textConstants.SCHEDULE_END_DATE_LABEL">
                                                </div>
                                                <div>
                                                    <input type="text"
                                                           id="endOn"
                                                           data-ng-model="reports.schedule.endDate"
                                                           class="input-sm form-control timeframe"
                                                           required="">
                                                    <i class="icon-calendar glyphicon pull-right"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-12 zeroPadding">
                    <div class="container">
                        <span class="pull-right common-loading-btn"
                              style="width: 91px;"
                              data-ng-show="loadingBtn">
                        </span>
                        <button class="pull-right btn btn-primary {{generateBtnDisabled ? 'disabled' : ''}}"
                                data-ng-click="scheduleReportAction();"
                                data-ng-bind-html="buttonLabel"
                                data-ng-show="!loadingBtn">
                        </button>
                        <button class="pull-right btn btn-default marginRight"
                                data-ng-click="resetMetricOptions();"
                                data-ng-bind-html="buttonResetCancel"
                                data-ng-class="reportTypeSelect === 'Save' ? 'save_reset' : ''">
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Custom Report Response Page -->
        <div class="custom_response_screenshot_container">
            <div class="img_table_container">
            <span class="img_table_txt">
               Please select dimensions, timeframe and any additional <br> parameters to generate a report
            </span>
                <div class="img_table"></div>
            </div>
            <div class="custom_report_response_page" style="display:none;">
                <!-- generating report loader -->
                <div class="report-response-load" style="display:none;">Generating Report...</div>

                <!-- end of generating report loader -->
                <div class="report_response_and_tabs">
                    <!-- add  style="display:none;"  when tabs are not to be shown -->
                    <div data-ng-if="!hideReportsTabs" class="clearfix custom_report_response_tabs">
                        <div class="each_tab active"
                             data-ng-click="show_respective_table('delivery')"
                             id="delivery_tab"
                             data-ng-show="metricKeyArr.delivery_metrics.length">
                            <span>Delivery</span>
                        </div>
                        <div class="each_tab"
                             data-ng-click="show_respective_table('cost')"
                             id="cost_tab"
                             data-ng-show="showCost && metricKeyArr.cost_metrics.length">
                            <span>Cost</span>
                        </div>
                        <div class="each_tab"
                             data-ng-click="show_respective_table('video')"
                             id="video_tab"
                             data-ng-show="metricKeyArr.video_metrics.length">
                            <span>Video</span>
                        </div>
                        <div class="each_tab"
                             data-ng-click="show_respective_table('quality')"
                             id="quality_tab"
                             data-ng-show="showQuality && metricKeyArr.quality_metrics.length">
                            <span>Quality</span>
                        </div>
                        <div class="each_tab"
                             data-ng-click="show_respective_table('pacing')"
                             id="pacing_tab"
                             data-ng-show="metricKeyArr.pacing_metrics.length">
                            <span>Pacing</span>
                        </div>
                    </div>
                    <div class="custom_report_response_table"
                         id="delivery_table"
                         data-ng-show="metricKeyArr.delivery_metrics.length">
                        <!-- add vertical_scroll class when scrolled vertically -->
                        <div class="custom_report_scroll">
                            <div class="each_row heading_row">
                                <div class="inner_heading_row">
                                    <div class="each_col tree_dimension_col" data-ng-bind-html="reportTitle"></div>
                                    <div class="each_col_delivery"
                                         data-ng-class="addReqClassToSort(dm.key, sortType, sortReverse)"
                                         data-ng-click="clickToSort(dm.key);"
                                         data-ng-repeat="dm in metricKeyArr.delivery_metrics track by $index"
                                         data-ng-bind-html="dm.value">
                                    </div>
                                </div>
                            </div>
                            <div class="clearfix first_dimension_row_holder">
                                <div data-ng-if="reportDataLoading" class="common-load-more report-response-load">
                                    Generating Report...
                                </div>
                                <span data-ng-if="(!reportDataLoading && reportDataNotFound)"
                                      class="no-data-common"
                                      data-ng-bind-html="getMessageForDataNotAvailable()">
                                </span>
                                <div class="each_row reportData {{showhasBreakdown}}"
                                     data-result-row="{{customReportData.idx}}"
                                     data-ng-repeat="customReportData in
                                        metricValues.first_dimension.delivery_metrics |
                                        orderBy : sortType : sortReverse">
                                    <!-- add active when the next dimension is open -->
                                    <!-- add hasBreakdown when the next dimension is available -->
                                    <div data-ng-include="'deliveryTpl'" class="heading_first_dimension"></div>

                                    <!-- second dimension div-->
                                    <div
                                        data-ng-show=
                                            "secondDimensionReportLoading.delivery_metrics[customReportData.idx]"
                                        class="common-load-more">
                                    </div>
                                    <div class="clearfix second_dimension_row_holder">
                                        <div data-ng-if="!secondDimensionReportLoading
                                                .delivery_metrics[customReportData.idx] &&
                                                metricValues.second_dimension[customReportData.idx]
                                                .delivery_metrics.length > 0">
                                            <div class="second_dimension_row"
                                                 data-ng-repeat="customReportData in
                                                    metricValues.second_dimension[customReportData.idx]
                                                    .delivery_metrics | orderBy : sortType : sortReverse"
                                                 data-ng-include="'deliveryTpl'">
                                            </div>

                                            <!-- load more for second dimension -->
                                            <span class="sec_dimension_load_more"
                                                  data-ng-click="fetchMoreSecondDimensionData($event, customReportData.idx, metricValues
                                                    .first_dimension.delivery_metrics[customReportData.idx].value,
                                                    customReportData.idx, 1)"
                                                  data-ng-show=
                                                      "secDimensionLoadMore.delivery_metrics[customReportData.idx]"
                                                  extFile="aaa">
                                                <a href="javascript:void(0);">Load more</a>
                                            </span>
                                            <span class="sec_dimension_loadingIcon common-loading-area"
                                                  style="margin-left:465px;"
                                                  data-ng-show="secDimensionLoadIcon
                                                    .delivery_metrics[customReportData.idx]">
                                            </span>
                                        </div>
                                        <span data-ng-if="secondDimensionReportDataNotFound.
                                                delivery_metrics[customReportData.idx]"
                                              class="no-data-common"
                                              data-ng-bind-html="getMessageForDataNotAvailable()">
                                        </span>
                                        <!-- end of load more for second dimension -->
                                    </div>
                                    <!-- end of second dimension div-->
                                </div>
                            </div>
                        </div>
                        <div data-ng-if="fetching" class="common-load-more"></div>
                    </div>
                    <div class="custom_report_response_table"
                         id="cost_table"
                         style="display: none;"
                         data-ng-show="showCost && metricKeyArr.cost_metrics.length">
                        <div class="custom_report_scroll">
                            <div class="each_row heading_row">
                                <div class="inner_heading_row">
                                    <div class="each_col tree_dimension_col" data-ng-bind="reportTitle"></div>
                                    <div class="each_col_cost"
                                         data-ng-class="addReqClassToSort(bm.key, sortType, sortReverse)"
                                         data-ng-click="clickToSort(bm.key);"
                                         data-ng-repeat="bm in metricKeyArr.cost_metrics track by $index"
                                         data-ng-bind="bm.value">
                                    </div>
                                </div>
                            </div>
                            <div class="clearfix first_dimension_row_holder">
                                <div data-ng-if="reportDataLoading" class="common-load-more report-response-load">
                                    Generating Report..
                                </div>
                                <span data-ng-if="(!reportDataLoading && reportDataNotFound)"
                                      class="no-data-common"
                                      data-ng-bind-html="getMessageForDataNotAvailable()">
                                </span>
                                <div class="each_row reportData {{showhasBreakdown}}"
                                     data-result-row='{{customReportData.idx}}'
                                     data-ng-repeat="customReportData in metricValues.first_dimension.cost_metrics |
                                        orderBy : sortType : sortReverse">
                                    <div data-ng-include="'costTpl'" class="heading_first_dimension"></div>

                                    <!-- second dimension div-->
                                    <div data-ng-show="secondDimensionReportLoading.cost_metrics[customReportData.idx]"
                                         class="common-load-more">
                                    </div>
                                    <div class="clearfix second_dimension_row_holder">
                                        <div data-ng-if="!secondDimensionReportLoading
                                                .cost_metrics[customReportData.idx] &&
                                                metricValues.second_dimension[customReportData.idx]
                                                .cost_metrics.length > 0">
                                            <div class="second_dimension_row"
                                                 data-ng-repeat="customReportData in
                                                    metricValues.second_dimension[customReportData.idx]
                                                        .cost_metrics | orderBy : sortType : sortReverse"
                                                 data-ng-include="'costTpl'">
                                            </div>
                                            <span class="sec_dimension_load_more"
                                                  data-ng-click="fetchMoreSecondDimensionData($event, customReportData.idx, metricValues
                                                    .first_dimension.cost_metrics[customReportData.idx].value,
                                                    customReportData.idx, 1)"
                                                  data-ng-show="secDimensionLoadMore
                                                    .cost_metrics[customReportData.idx]">
                                                <a href="javascript:void(0);">Load more</a>
                                            </span>
                                            <span class="sec_dimension_loadingIcon common-loading-area"
                                                  style="margin-left:465px;"
                                                  data-ng-show="secDimensionLoadIcon
                                                    .cost_metrics[customReportData.idx]">
                                            </span>
                                        </div>
                                        <span data-ng-if="secondDimensionReportDataNotFound
                                                .cost_metrics[customReportData.idx]"
                                              class="no-data-common"
                                              data-ng-bind-html="getMessageForDataNotAvailable()">
                                        </span>
                                        <!-- end of load more for second dimension -->
                                    </div>
                                    <!-- end of second dimension div-->
                                </div>
                            </div>
                        </div>
                        <div data-ng-if="fetching" class="common-load-more"></div>
                    </div>
                    <div class="custom_report_response_table"
                         id="video_table"
                         style="display: none;"
                         data-ng-show="metricKeyArr.video_metrics.length">
                        <div class="custom_report_scroll">
                            <div class="each_row heading_row">
                                <div class="inner_heading_row">
                                    <div class="each_col tree_dimension_col" data-ng-bind="reportTitle"></div>
                                    <div class="each_col"
                                         data-ng-class="addReqClassToSort(vm.key, sortType, sortReverse)"
                                         data-ng-click="clickToSort(vm.key);"
                                         data-ng-repeat="vm in metricKeyArr.video_metrics track by $index"
                                         data-ng-bind="vm.value">
                                    </div>
                                </div>
                            </div>
                            <div class="clearfix first_dimension_row_holder">
                                <div data-ng-if="reportDataLoading"
                                     class="common-load-more report-response-load">
                                    Generating Report...
                                </div>
                                <span data-ng-if="(!reportDataLoading && reportDataNotFound)"
                                      class="no-data-common"
                                      data-ng-bind-html="getMessageForDataNotAvailable()">
                                </span>
                                <div class="each_row reportData {{showhasBreakdown}}"
                                     data-result-row="{{customReportData.idx}}"
                                     data-ng-repeat="customReportData in metricValues.first_dimension.video_metrics |
                                        orderBy : sortType : sortReverse">
                                    <div data-ng-include="'videoTpl'" class="heading_first_dimension"></div>

                                    <!-- second dimension div-->
                                    <div data-ng-show="secondDimensionReportLoading.video_metrics[customReportData.idx]"
                                         class="common-load-more">
                                    </div>
                                    <div class="clearfix second_dimension_row_holder">
                                        <div data-ng-if="!secondDimensionReportLoading
                                                .video_metrics[customReportData.idx] &&
                                                metricValues.second_dimension[customReportData.idx]
                                                .video_metrics.length > 0">
                                            <div class="second_dimension_row"
                                                 data-ng-repeat="customReportData in
                                                    metricValues.second_dimension[customReportData.idx].video_metrics |
                                                     orderBy : sortType : sortReverse"
                                                 data-ng-include="'videoTpl'">
                                            </div>
                                            <span class="sec_dimension_load_more"
                                                  data-ng-click="fetchMoreSecondDimensionData($event, customReportData.idx, metricValues
                                                    .first_dimension.video_metrics[customReportData.idx].value,
                                                    customReportData.idx, 1)"
                                                  data-ng-show="secDimensionLoadMore
                                                    .video_metrics[customReportData.idx]">
                                                <a href="javascript:void(0);">Load more</a>
                                            </span>
                                            <span class="sec_dimension_loadingIcon common-loading-area"
                                                  style="margin-left: 465px;"
                                                  data-ng-show="secDimensionLoadIcon
                                                    .video_metrics[customReportData.idx]">
                                            </span>
                                        </div>
                                        <span data-ng-if="secondDimensionReportDataNotFound
                                                .video_metrics[customReportData.idx]"
                                              class="no-data-common"
                                              data-ng-bind-html="getMessageForDataNotAvailable()">
                                        </span>
                                        <!-- end of load more for second dimension -->
                                    </div>
                                    <!-- end of second dimension div-->
                                </div>
                            </div>
                        </div>
                        <div data-ng-if="fetching" class="common-load-more"></div>
                    </div>

                    <!-- Quality metrics -->
                    <div class="custom_report_response_table"
                         id="quality_table"
                         style="display: none;"
                         data-ng-show="metricKeyArr.quality_metrics.length">
                        <div class="custom_report_scroll">
                            <div class="each_row heading_row">
                                <div class="inner_heading_row">
                                    <div class="each_col tree_dimension_col" data-ng-bind="reportTitle"></div>
                                    <div class="each_col"
                                         data-ng-class="addReqClassToSort(vm.key, sortType, sortReverse)"
                                         data-ng-click="clickToSort(vm.key);"
                                         data-ng-repeat="vm in metricKeyArr.quality_metrics track by $index"
                                         data-ng-bind="vm.value">
                                    </div>
                                </div>
                            </div>
                            <div class="clearfix first_dimension_row_holder">
                                <div data-ng-if="reportDataLoading" class="common-load-more report-response-load">
                                    Generating Report...
                                </div>
                                <span data-ng-if="(!reportDataLoading && reportDataNotFound)"
                                      class="no-data-common"
                                      data-ng-bind-html="getMessageForDataNotAvailable()">
                                </span>
                                <div class="each_row reportData {{showhasBreakdown}}"
                                     data-result-row="{{customReportData.idx}}"
                                     data-ng-repeat="customReportData in
                                        metricValues.first_dimension.quality_metrics |
                                        orderBy : sortType : sortReverse">
                                    <div data-ng-include="'qualityTpl'" class="heading_first_dimension"></div>

                                    <!-- second dimension div-->
                                    <div data-ng-show="secondDimensionReportLoading
                                            .quality_metrics[customReportData.idx]"
                                         class="common-load-more">
                                    </div>
                                    <div class="clearfix second_dimension_row_holder">
                                        <div data-ng-if="!secondDimensionReportLoading.quality_metrics
                                                [customReportData.idx] &&
                                                metricValues.second_dimension[customReportData.idx]
                                                .quality_metrics.length > 0">
                                            <div class="second_dimension_row"
                                                 data-ng-repeat="customReportData in
                                                    metricValues.second_dimension[customReportData.idx].quality_metrics
                                                    | orderBy : sortType : sortReverse"
                                                 data-ng-include="'qualityTpl'">
                                            </div>
                                            <span class="sec_dimension_load_more"
                                                  data-ng-click="fetchMoreSecondDimensionData($event, customReportData.idx, metricValues
                                                    .first_dimension.quality_metrics[customReportData.idx].value,
                                                    customReportData.idx, 1)"
                                                  data-ng-show="secDimensionLoadMore
                                                    .quality_metrics[customReportData.idx]">
                                                <a href="javascript:void(0);">Load more</a>
                                            </span>
                                            <span class="sec_dimension_loadingIcon common-loading-area"
                                                  style="margin-left: 465px;"
                                                  data-ng-show="secDimensionLoadIcon
                                                    .quality_metrics[customReportData.idx]">
                                            </span>
                                        </div>
                                        <span data-ng-if="secondDimensionReportDataNotFound.quality_metrics
                                                [customReportData.idx]"
                                              class="no-data-common"
                                              data-ng-bind-html="getMessageForDataNotAvailable()">
                                        </span>
                                        <!-- end of load more for second dimension -->
                                    </div>
                                    <!-- end of second dimension div-->
                                </div>
                            </div>
                        </div>
                        <div data-ng-if="fetching" class="common-load-more"></div>
                    </div>

                    <!-- Pacing metrics -->
                    <div class="custom_report_response_table"
                         id="pacing_table"
                         style="display: none;"
                         data-ng-show="metricKeyArr.pacing_metrics.length">
                        <div class="custom_report_scroll">
                            <div class="each_row heading_row">
                                <div class="inner_heading_row">
                                    <div class="each_col tree_dimension_col" data-ng-bind="reportTitle"></div>
                                    <div class="each_col"
                                         data-ng-class="addReqClassToSort(vm.key, sortType, sortReverse)"
                                         data-ng-click="clickToSort(vm.key);"
                                         data-ng-repeat="vm in metricKeyArr.pacing_metrics track by $index"
                                         data-ng-bind="vm.value">
                                    </div>
                                </div>
                            </div>
                            <div class="clearfix first_dimension_row_holder">
                                <div data-ng-if="reportDataLoading" class="common-load-more report-response-load">
                                    Generating Report...
                                </div>
                                <span data-ng-if="(!reportDataLoading && reportDataNotFound)"
                                      class="no-data-common"
                                      data-ng-bind-html="getMessageForDataNotAvailable()">
                                </span>
                                <div class="each_row reportData {{showhasBreakdown}}"
                                     data-result-row="{{customReportData.idx}}"
                                     data-ng-repeat="customReportData in
                                        metricValues.first_dimension.pacing_metrics |
                                        orderBy : sortType : sortReverse">
                                    <div data-ng-include="'pacingTpl'" class="heading_first_dimension"></div>

                                    <!-- second dimension div-->
                                    <div data-ng-show="secondDimensionReportLoading
                                            .pacing_metrics[customReportData.idx]"
                                         class="common-load-more">
                                    </div>
                                    <div class="clearfix second_dimension_row_holder">
                                        <div data-ng-if="!secondDimensionReportLoading
                                                .pacing_metrics[customReportData.idx] &&
                                                metricValues.second_dimension[customReportData.idx]
                                                .pacing_metrics.length > 0">
                                            <div class="second_dimension_row"
                                                 data-ng-repeat="customReportData in
                                                    metricValues.second_dimension[customReportData.idx]
                                                    .pacing_metrics | orderBy : sortType : sortReverse"
                                                 data-ng-include="'pacingTpl'">
                                            </div>
                                            <span class="sec_dimension_load_more"
                                                  data-ng-click="fetchMoreSecondDimensionData($event, customReportData.idx, metricValues
                                                    .first_dimension.pacing_metrics[customReportData.idx].value,
                                                    customReportData.idx, 1)"
                                                  data-ng-show="secDimensionLoadMore
                                                    .pacing_metrics[customReportData.idx]">
                                                <a href="javascript:void(0);">Load more</a>
                                            </span>
                                            <span class="sec_dimension_loadingIcon common-loading-area"
                                                  style="margin-left:465px;"
                                                  data-ng-show="secDimensionLoadIcon
                                                    .pacing_metrics[customReportData.idx]">
                                            </span>
                                        </div>
                                        <span data-ng-if="secondDimensionReportDataNotFound
                                                .pacing_metrics[customReportData.idx]"
                                              class="no-data-common"
                                              data-ng-bind-html="getMessageForDataNotAvailable()">
                                        </span>
                                        <!-- end of load more for second dimension -->
                                    </div>
                                    <!-- end of second dimension div-->
                                </div>
                            </div>
                        </div>
                        <div data-ng-if="fetching" class="common-load-more"></div>
                    </div>
                </div>
            </div>
            <!-- End of Custom Report Response Page -->
        </div>

        <script type="text/ng-template" id="deliveryTpl">
            <div class="each_col {{customReportData.level === 'first_dimension' ?
                    'more_dimension_arrow icon-toggleclose' : 'tree_string'}}"
                 data-ng-click="showDataForClikedDimension($event,customReportData.id, customReportData.value, customReportData.idx);
                    $event.stopPropagation();">
            </div>

            <!---- Dimension report data ------------------------>
            <div class="each_col tree_dimension_col {{customReportData.level === 'first_dimension' ?
                    'more_dimension_col' : ' '}}">
            <span data-ng-click="deepLinking.routeToLink($event, customReportData.level, customReportData.idx);
                    $event.stopPropagation();"
                  data-ng-if="customReportData.value"
                  data-ng-bind="customReportData.value"
                  tooltip="{{customReportData.value}}"
                  data-ng-mouseover="deepLinking.isClickable($event, customReportData.type)"></span>
            </div>

            <!----- Delivery report data ------------------------>
            <div class="each_col_delivery"
                 data-ng-if="customReportData.impressions >= -1"
                 data-ng-bind="customReportData.impressions === -1 ? 'NA' :
                    (customReportData.impressions | number : 0)">
            </div>
            <div class="each_col_delivery"
                 data-ng-if="customReportData.clicks >= -1"
                 data-ng-bind="customReportData.clicks === -1 ? 'NA' :
                    (customReportData.clicks | number : 0)">
            </div>
            <div class="each_col_delivery"
                 data-ng-if="customReportData.ctr >= -1"
                 data-ng-bind="customReportData.ctr === -1 ? 'NA' :
                    (customReportData.ctr | kpiFormatter: 'ctr')">
            </div>
            <div class="each_col_delivery"
                 data-ng-if="customReportData.post_imp >= -1"
                 data-ng-bind="customReportData.post_imp === -1 ? 'NA' :
                    (customReportData.post_imp | number : 0)">
            </div>
            <div class="each_col_delivery"
                 data-ng-if="customReportData.post_click >= -1"
                 data-ng-bind="customReportData.post_click === -1 ? 'NA' :
                    (customReportData.post_click | number : 0)">
            </div>
            <div class="each_col_delivery"
                 data-ng-if="customReportData.pccr >= -1"
                 data-ng-bind="customReportData.pccr === -1 ? 'NA' :
                    ((customReportData.pccr | number : 2) + '%')">
            </div>
            <div class="each_col_delivery"
                 data-ng-if="customReportData.actions >= -1"
                 data-ng-bind="customReportData.actions === -1 ? 'NA' :
                    (customReportData.actions | number : 0)">
            </div>
            <div class="each_col_delivery"
                 data-ng-if="customReportData.pub_payout >= -1"
                 data-ng-bind="customReportData.pub_payout === -1 ? 'NA' :
                    (customReportData.pub_payout | number : 0)">
            </div>
        </script>

        <!----- Cost report data ------------------------>
        <script type="text/ng-template" id="costTpl">
            <div class="each_col {{customReportData.level === 'first_dimension' ?
                    'more_dimension_arrow icon-toggleclose' : 'tree_string'}}"
                 data-ng-click="showDataForClikedDimension($event,customReportData.id, customReportData.value, customReportData.idx);
                    $event.stopPropagation();">
            </div>

            <!---- Dimension report data ------------------------>
            <div class="each_col tree_dimension_col {{customReportData.level === 'first_dimension' ?
                    'more_dimension_col' :' '}}">
                <span data-ng-click="deepLinking.routeToLink($event, customReportData.level, customReportData.idx);
                        $event.stopPropagation();"
                      data-ng-if="customReportData.value"
                      data-ng-bind="customReportData.value"
                      tooltip="{{customReportData.value}}"
                      data-ng-mouseover="deepLinking.isClickable($event, customReportData.type)">
                </span>
            </div>

            <!--Ad Serving  ad_serving_cost-->
            <div class="each_col_cost"
                 data-ng-if="customReportData.ad_servicing_cost >= -1"
                 data-ng-bind="customReportData.ad_servicing_cost === -1 ? 'NA' :
                    (customReportData.ad_servicing_cost | number : 0)">
            </div>

            <!--Ad Verification  ad_verification_cost-->
            <div class="each_col_cost"
                 data-ng-if="customReportData.ad_vertification_cost >= -1"
                 data-ng-bind="customReportData.ad_vertification_cost === -1 ? 'NA' :
                    (customReportData.ad_vertification_cost | number : 0)">
            </div>

            <!--Service Fees  collective_cost-->
            <div class="each_col_cost"
                 data-ng-if="customReportData.collective_cost >= -1"
                 data-ng-bind="customReportData.collective_cost === -1 ? 'NA' :
                    (customReportData.collective_cost | number : 0)">
            </div>

            <!--Creative  creative_cost-->
            <div class="each_col_cost"
                 data-ng-if="customReportData.creative_cost >= -1"
                 data-ng-bind="customReportData.creative_cost === -1 ? 'NA' :
                    (customReportData.creative_cost | number : 0)">
            </div>

            <!--Data  data_cost-->
            <div class="each_col_cost"
                 data-ng-if="customReportData.data_cost >= -1"
                 data-ng-bind="customReportData.data_cost === -1 ? 'NA' :
                    (customReportData.data_cost | number : 0)">
            </div>

            <!--Inventory inventory_cost-->
            <div class="each_col_cost"
                 data-ng-if="customReportData.inventory_cost >= -1"
                 data-ng-bind="customReportData.inventory_cost === -1 ?
                    'NA' : (customReportData.inventory_cost | number : 0)">
            </div>

            <!--eCPM gross_ecpm-->
            <div class="each_col_cost"
                 data-ng-if="customReportData.gross_ecpm >= -1"
                 data-ng-bind="customReportData.gross_ecpm === -1 ? 'NA' :
                    (customReportData.gross_ecpm | number : 2)">
            </div>

            <!--eCPC gross_ecpc-->
            <div class="each_col_cost"
                 data-ng-if="customReportData.gross_ecpc >= -1"
                 data-ng-bind="customReportData.gross_ecpc === -1 ? 'NA' :
                    (customReportData.gross_ecpc | number : 2)">
            </div>

            <!--eCPA gross_ecpa-->
            <div class="each_col_cost"
                 data-ng-if="customReportData.gross_ecpa >= -1"
                 data-ng-bind="customReportData.gross_ecpa === -1 ? 'NA' :
                    (customReportData.gross_ecpa | number : 2)">
            </div>

            <!--Total Spend   gross_rev-->
            <div class="each_col_cost"
                 data-ng-if="customReportData.gross_rev >= -1"
                 data-ng-bind="customReportData.gross_rev === -1 ? 'NA' :
                    (customReportData.gross_rev | number : 0)">
            </div>

            <!--Tech Fees platform_cost-->
            <div class="each_col_cost"
                 data-ng-if="customReportData.platform_cost >= -1"
                 data-ng-bind="customReportData.platform_cost === -1 ? 'NA' :
                    (customReportData.platform_cost | number : 0)">
            </div>

            <!--Research  research_cost-->
            <div class="each_col_cost"
                 data-ng-if="customReportData.research_cost >= -1"
                 data-ng-bind="customReportData.research_cost === -1 ? 'NA' :
                    (customReportData.research_cost | number : 0)">
            </div>

            <!--%Margin   margin-->
            <div class="each_col_cost"
                 data-ng-if="customReportData.margin !== null "
                 data-ng-bind="customReportData.margin !== null ?
                    (customReportData.margin | number : 0) : '-'">
            </div>
        </script>

        <!----- video report data ------------------------>
        <script type="text/ng-template" id="videoTpl">
            <div class="each_col {{customReportData.level === 'first_dimension' ?
                    'more_dimension_arrow icon-toggleclose' : 'tree_string'}}"
                 data-ng-click="showDataForClikedDimension($event,customReportData.id, customReportData.value, customReportData.idx);
                    $event.stopPropagation();">
            </div>

            <!---- Dimension report data ------------------------>
            <div class="each_col tree_dimension_col {{customReportData.level === 'first_dimension' ?
                    'more_dimension_col' : ' '}}">
                <span data-ng-click="deepLinking.routeToLink($event, customReportData.level, customReportData.idx);
                        $event.stopPropagation();"
                      data-ng-if="customReportData.value"
                      data-ng-bind="customReportData.value"
                      tooltip="{{customReportData.value}}"
                      data-ng-mouseover="deepLinking.isClickable($event, customReportData.type)">
                </span>
            </div>

            <!--Video Plays  ad_starts-->
            <div class="each_col"
                 data-ng-if="customReportData.ad_starts >= -1"
                 data-ng-bind="customReportData.ad_starts === -1 ? 'NA' : (customReportData.ad_starts | number : 0)">
            </div>

            <!--25% Ad Complete completion_25-->
            <div class="each_col"
                 data-ng-if="customReportData.completion_25 >= -1"
                 data-ng-bind="customReportData.completion_25 === -1 ? 'NA' :
                    (customReportData.completion_25 | number : 0)">
            </div>

            <!--50% Ad Complete completion_50-->
            <div class="each_col"
                 data-ng-if="customReportData.completion_50 >= -1"
                 data-ng-bind="customReportData.completion_50 === -1 ? 'NA' :
                    (customReportData.completion_50 | number : 0)">
            </div>

            <!--75% Ad Complete completion_75-->
            <div class="each_col"
                 data-ng-if="customReportData.completion_75 >= -1"
                 data-ng-bind="customReportData.completion_75 === -1 ? 'NA' :
                    (customReportData.completion_75 | number : 0)">
            </div>

            <!--100% Ad Complete  completion_100-->
            <div class="each_col"
                 data-ng-if="customReportData.completion_100 >= -1"
                 data-ng-bind="customReportData.completion_100 === -1 ? 'NA' :
                    (customReportData.completion_100 | number : 0)">
            </div>

            <!--Completion Rate completion_rate-->
            <div class="each_col"
                 data-ng-if="customReportData.completion_rate >= -1"
                 data-ng-bind="customReportData.completion_rate === -1 ? 'NA' :
                    ((customReportData.completion_rate | number : 2)+'%')">
            </div>

            <!--Mutes mutes-->
            <div class="each_col"
                 data-ng-if="customReportData.mutes >= -1"
                 data-ng-bind="customReportData.mutes === -1 ? 'NA' : (customReportData.mutes | number : 0)">
            </div>

            <!--Pauses pauses-->
            <div class="each_col"
                 data-ng-if="customReportData.pauses >= -1"
                 data-ng-bind="customReportData.pauses === -1 ? 'NA' : (customReportData.pauses | number : 0)">
            </div>
        </script>

        <!----- Quality Display report data ------------------------>
        <script type="text/ng-template" id="qualityTpl">
            <div class="each_col {{customReportData.level === 'first_dimension' ?
                    'more_dimension_arrow icon-toggleclose' : 'tree_string'}}"
                 data-ng-click="showDataForClikedDimension($event,customReportData.id, customReportData.value, customReportData.idx);
                    $event.stopPropagation();">
            </div>

            <!---- Dimension report data ------------------------>
            <div class="each_col tree_dimension_col {{customReportData.level === 'first_dimension' ?
                    'more_dimension_col' : ' '}}">

                <span data-ng-click="deepLinking.routeToLink($event, customReportData.level, customReportData.idx);
                        $event.stopPropagation();"
                      data-ng-if="customReportData.value"
                      data-ng-bind="customReportData.value"
                      tooltip="{{customReportData.value}}"
                      data-ng-mouseover="deepLinking.isClickable($event, customReportData.type)">
                </span>
            </div>
            <div class="each_col"
                 data-ng-if="customReportData.measurable_imps >= -1"
                 data-ng-bind="customReportData.measurable_imps === -1 ? 'NA' :
                    (customReportData.measurable_imps | number : 0)">
            </div>
            <div class="each_col"
                 data-ng-if="customReportData.measurable_perc >= -1"
                 data-ng-bind="customReportData.measurable_perc === -1 ? 'NA' :
                    ((customReportData.measurable_perc | number : 0)+'%')">
            </div>
            <div class="each_col"
                 data-ng-if="customReportData.viewable_imps >= -1"
                 data-ng-bind="customReportData.viewable_imps === -1 ? 'NA' :
                    (customReportData.viewable_imps | number : 0)">
            </div>
            <div class="each_col"
                 data-ng-if="customReportData.viewable_perc >= -1"
                 data-ng-bind="customReportData.viewable_perc === -1 ? 'NA' :
                    ((customReportData.viewable_perc | number : 0)+'%')">
            </div>
            <div class="each_col"
                 data-ng-if="customReportData.viewable_imps_5s >= -1"
                 data-ng-bind="customReportData.viewable_imps_5s === -1 ? 'NA' :
                    (customReportData.viewable_imps_5s | number : 0)">
            </div>
            <div class="each_col"
                 data-ng-if="customReportData.viewable_imps_15s >= -1"
                 data-ng-bind="customReportData.viewable_imps_15s === -1 ? 'NA' :
                    (customReportData.viewable_imps_15s | number : 0)">
            </div>
            <div class="each_col"
                 data-ng-if="customReportData.suspicious_imps >= -1"
                 data-ng-bind="customReportData.suspicious_imps === -1 ? 'NA' :
                    (customReportData.suspicious_imps | number : 0)">
            </div>
            <div class="each_col"
                 data-ng-if="customReportData.suspicious_act_perc >= -1"
                 data-ng-bind="customReportData.suspicious_act_perc === -1 ? 'NA' :
                    ((customReportData.suspicious_act_perc | number : 0)+'%')">
            </div>
            <div class="each_col"
                 data-ng-if="customReportData.viewable_25 >= -1"
                 data-ng-bind="customReportData.viewable_25 === -1 ? 'NA' :
                    ((customReportData.viewable_25 | number : 0))">
            </div>
            <div class="each_col"
                 data-ng-if="customReportData.viewable_50 >= -1"
                 data-ng-bind="customReportData.viewable_50 === -1 ? 'NA' :
                    ((customReportData.viewable_50 | number : 0))">
            </div>
            <div class="each_col"
                 data-ng-if="customReportData.viewable_75 >= -1"
                 data-ng-bind="customReportData.viewable_75 === -1 ? 'NA' :
                    ((customReportData.viewable_75 | number : 0))">
            </div>
            <div class="each_col"
                 data-ng-if="customReportData.viewable_100 >= -1"
                 data-ng-bind="customReportData.viewable_100 === -1 ? 'NA' :
                    ((customReportData.viewable_100 | number : 0))">
            </div>
        </script>

        <!----- Pacing report data ------------------------>
        <script type="text/ng-template" id="pacingTpl">
            <div class="each_col {{customReportData.level === 'first_dimension' ?
                    'more_dimension_arrow icon-toggleclose' : 'tree_string'}}"
                 data-ng-click="showDataForClikedDimension($event,customReportData.id, customReportData.value, customReportData.idx);
                    $event.stopPropagation();">
            </div>

            <!---- Dimension report data ------------------------>
            <div class="each_col tree_dimension_col {{customReportData.level === 'first_dimension' ?
                    'more_dimension_col' : ' '}}">
                <span data-ng-click="deepLinking.routeToLink($event, customReportData.level, customReportData.idx);
                        $event.stopPropagation();"
                      data-ng-if="customReportData.value"
                      data-ng-bind="customReportData.value"
                      tooltip="{{customReportData.value}}"
                      data-ng-mouseover="deepLinking.isClickable($event, customReportData.type)">
                </span>
            </div>

            <!--Start Date start_time-->
            <div class="each_col" data-ng-if="customReportData.hasOwnProperty('start_time')" data-ng-bind="(customReportData.start_time && (customReportData.start_time !== 'NA')) ?
                    (customReportData.start_time | formatDate:'D MMM YYYY') : 'NA'">
            </div>

            <!--End Date end_time-->
            <div class="each_col" data-ng-if="customReportData.hasOwnProperty('end_time')" data-ng-bind="handleEndDate(customReportData.end_time)">
            </div>
            <!--Booked Impressions booked_impressions-->
            <div class="each_col" data-ng-if=(customReportData.hasOwnProperty('booked_impressions')) ng-bind="(customReportData.booked_impressions | number:0)"></div>

            <!--Actual Impressions actual_impressions-->
            <div class="each_col" data-ng-if=(customReportData.hasOwnProperty('actual_impressions')) ng-bind="(customReportData.actual_impressions | number:0)"></div>

            <!--+-Impressions diff_impressions-->
            <div class="each_col" data-ng-if=(customReportData.hasOwnProperty('diff_impressions')) data-ng-bind="(customReportData.diff_impressions | number : 0)"></div>

            <!--%Delivered perc_delivered-->
            <div class="each_col" data-ng-if=(customReportData.hasOwnProperty('perc_delivered')) ng-bind="(customReportData.perc_delivered| number:0) + '%'">
            </div>

            <!--Booked Revenue booked_revenue-->
            <div class="each_col" data-ng-if=(customReportData.hasOwnProperty('booked_revenue')) data-ng-bind="(customReportData.booked_revenue | number:0)"></div>

            <!--Actual Revenue actual_revenue-->
            <div class="each_col" data-ng-if=(customReportData.hasOwnProperty('actual_revenue')) ng-bind="(customReportData.actual_revenue | number:0)"></div>

            <!--+/- Revenue  diff_revenue-->
            <div class="each_col" data-ng-if=(customReportData.hasOwnProperty('diff_revenue')) data-ng-bind="customReportData.diff_revenue | number : 0"></div>

            <!--Booked CPM booked_cpm-->
            <div class="each_col" data-ng-if=(customReportData.hasOwnProperty('booked_cpm')) ng-bind="customReportData.booked_cpm | number:0"></div>

            <!--Actual CPM actual_cpm-->
            <div class="each_col"  data-ng-if=(customReportData.hasOwnProperty('actual_cpm')) ng-bind="(customReportData.actual_cpm | number:0)"></div>

            <!-- +/-CPM diff_cpm -->
            <div class="each_col" data-ng-if=(customReportData.hasOwnProperty('diff_cpm')) data-ng-bind="(customReportData.diff_cpm | number : 0)"></div>
        </script>

        <div class="common-popup-container" data-ng-show="updateSchedule">
            <div class="popup">
                <div class="popup-header-body">
                    <div class="clearfix">
                        <h2 data-ng-show="scheduleReportActive === false"
                            class="pull-left"
                            data-ng-bind="textConstants.SAVED_UPDATE">
                        </h2>
                        <h2 data-ng-show="scheduleReportActive === true"
                            class="pull-left"
                            data-ng-bind="textConstants.SCHEDULER_UPDATE">
                        </h2>
                        <span class="close unselectable"
                              aria-hidden="true"
                              data-ng-click="updateSchedule=false">
                            x
                        </span>
                    </div>
                    <div class="popup-content" data-ng-bind="archiveMessage"></div>
                </div>
                <div class="clearfix popup-footer">
                    <button type="button"
                            data-ng-click="updateReportAndRedirect('Yes')"
                            class="common_primary_btn pull-right">
                        Yes
                    </button>
                    <button type="button"
                            data-ng-click="updateReportAndRedirect('No')"
                            class="secondary_txt pull-right">
                        No
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
