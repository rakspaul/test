%div.top-headers
  = link_to "Create new Reach client", new_admin_reach_client_path, class: 'btn'

%table.admin-reach-table
  %thead
    %tr
      %th
        .pure-g.header-container
          .pure-u.title-container
            .title
              Name
          .pure-u
            #name.actions-container
              %i.icon-sort-by-attributes
      %th
        .pure-g.header-container
          .pure-u.title-container
            .title
              Abbr
          .pure-u
            #abbr.actions-container
              %i.icon-sort
      %th
        .pure-g.header-container
          .pure-u.title-container
            .title
              Media Contact
          .pure-u
            #media_contact.actions-container
              %i.icon-sort
      %th
        .pure-g.header-container
          .pure-u.title-container
            .title
              Billing Contact
          .pure-u
            #billing_contact.actions-container
              %i.icon-sort
      %th
        .pure-g.header-container
          .pure-u.title-container
            .title
              Sales Person
          .pure-u
            #sales_person.actions-container
              %i.icon-sort
      %th
        .pure-g.header-container
          .pure-u.title-container
            .title
              Account Manager
          .pure-u
            #account_manager.actions-container
              %i.icon-sort
  %tbody{:id => "reach_clients"}
    =render "reach_client_table" ,:reach_clients => @reach_clients

.paginator{:id => "paginator"}
  = paginate @reach_clients,:remote => :true

:javascript
  $('.actions-container i').click(function(event) {
    var para = {};
    para.sort_column = $(event.target).parent().attr('id');

    var class_name = $(event.target).attr('class');

    if(class_name==='icon-sort' || class_name==='icon-sort-by-attributes-alt') {
      para.sort_direction = 'asc';
      $('.admin-reach-table').find('.actions-container i').removeClass('icon-sort-by-attributes icon-sort-by-attributes-alt').addClass('icon-sort');
      $(event.target).removeClass('icon-sort-by-attributes-alt icon-sort').addClass('icon-sort-by-attributes');
    } else if(class_name==='icon-sort-by-attributes') {
      para.sort_direction = 'desc';
      $(event.target).removeClass('icon-sort-by-attributes').addClass('icon-sort-by-attributes-alt');
    }

    var request = $.ajax({url:'/admin/reach_clients', data:para, dataType: 'script'});

  });