<div class="popup-holder accounts-popup">
    <!--Header-->
    <div class="modal-header">
        <span class="btn btn-primary pull-right" ng-click="saveAdvertisers()">Save</span>
        <span class="btn btn-link pull-right" data-dismiss="modal" ng-click="close()">Cancel</span>
        
        <h2 class="modal-title" id="myModalLabel">{{(mode === 'create'?'Add':'Edit')}} Advertiser</h2>
    </div>
    
    <!--Body-->
    <div class="modal-body">
        <div class="col-md-12 zeroPadding">
            <div class="form-group col-md-4" style="padding: 0 15px 0 0;">
                <label >Advertiser:</label>
                <input type="text" class="form-control" id="advertiserNameInp" ng-model="advertiserName" ng-keyup="mode == 'create' ? showDropdown() : ''">
            </div>
            
            <div class="form-group col-md-4" style="padding: 0 15px;">
                <label >Impression Look Back:</label>
                <input type="text" class="form-control" ng-model="advertiserData.impressionLookBack" ng-keyup="(advertiserData.impressionLookBack>30)?advertiserData.impressionLookBack=30:''">
            </div>
            
            <div class="form-group col-md-4" style="padding: 0 0 0 15px;">
                <label >Click:</label>
                <input type="text" class="form-control" ng-model="advertiserData.clickLookBack" ng-keyup="(advertiserData.clickLookBack>30)?advertiserData.impressionLookBack=30:''">
            </div>
        </div>
            <div id="pixelsCnt" ng-if="advertiserData.pixels.length">
                <div class="col-md-12 zeroPadding"><h1 class="pull-left">Add Pixel</h1></div>
                <div data-ng-repeat="pixel in advertiserData.pixels" class="pixelLayer">
                    <div class="form-group col-md-4" style="padding: 0 15px 0 0;">
                        <label>Pixel Name:</label>
                        <input type="text" class="form-control" ng-model="advertiserData.pixels[$index].name">
                    </div>
                    <div class="form-group col-md-4" style="padding: 0 15px;">
                        <label >Pixel Type:</label>
                        <div class="col-md-12 zeroPadding dropdown-workflow">
                            <div class="dropdown" style="margin: 0;">
                                <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                                    <span class="text" ng-bind="advertiserData.pixels[$index].pixelType"></span>
                                    <span class="icon-arrow-down"></span>
                                </button>
                                <ul class="dropdown-menu" aria-labelledby="unitcostType" ng-model="adData.unitType"  id="unitcostType" data-toggle="dropdown">
                                    <li><a ng-click="advertiserData.pixels[$index].pixelType='Action - Page View'" ng-bind="'Action - Page View'"></a></li>
                                    <li><a ng-click="advertiserData.pixels[$index].pixelType='Audience Creation Pixel'" ng-bind="'Audience Creation Pixel'"></a></li>
                                    <li><a ng-click="advertiserData.pixels[$index].pixelType='Retargeting Pixel'" ng-bind="'Retargeting Pixel'"></a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-4" style="padding: 0 0 0 15px;">
                        <label style="display: block;">Pixel Expiration Date:</label>
                        <div class="col-md-12 input-daterange input-group date pull-left">
                            <div class="col-md-12 dateWrapper ">
                                <input type="text" id="startDateInput" class="input-sm form-control timeframe"
                                    ng-model="advertiserData.pixels[$index].date" required>
                                <i class="icon-calendar glyphicon pull-right"></i>
                                <label ng-if="!reports.reportDefinition.timeframe.start_date" style="display:block"
                                    class="errorLabel" ng-bind="textConstants.SELECT_DATE_LABEL"></label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group col-md-12" style="padding: 0;">
                        <label class="pull-left">Pixel URL:</label>
                        <input type="textarea" class="form-control" ng-model="advertiserData.pixels[$index].url">
                    </div>
                    
                    <a class="pull-right btn btn-link" style="padding-right: 0;" data-dismiss="modal" ng-click="removePixel($index)" aria-label="Close">Cancel</a>
                </div>
            </div>
            <div class="pull-right btn-group create" role="group" aria-label="...">
                <a class="btn btn-default" data-ng-click="addPixel()">
                    <span class="icon-plus"></span>
                    <span>Add Pixel</span>
                </a>
            </div>
            <ul ng-if="allAdvertiser.length>0" class="dropdown-menu" role="menu" id="advertiserList" ng-if="mode == 'create'" ng-style="dropdownCss">
                <li ng-repeat="advertiser in allAdvertiser | filter:advertiserName" data-ng-click="selectAdvertiser(advertiser)">
                    <a>
                        <span class="tick"></span>
                        <span class="menuItemText ng-binding" >{{advertiser.name}}</span>
                    </a>
                </li>
            </ul>
            
            <input type="hidden"  ng-model="selectedAdvertiserId" >
        </div>
    </div><!-- end of modal_body -->
</div> <!-- end of popup-holder -->

